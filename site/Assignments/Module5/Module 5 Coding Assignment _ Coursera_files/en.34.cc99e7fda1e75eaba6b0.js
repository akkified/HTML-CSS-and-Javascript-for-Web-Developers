/*! For license information please see 34.cc99e7fda1e75eaba6b0.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"+lOM":function(module,exports){exports.default={"ar":true,"de":true,"es":true,"fr":true,"id":true,"ja":true,"ko":true,"pseudo":true,"pt":true,"ru":true,"tr":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"06Ht":function(module,exports,e){e("CsqG")},"1aFt":function(module,exports,e){e("c02J")},"2+Zh":function(module,exports,e){},"2P4+":function(module,exports,e){e("Pk7u")},"3Vaj":function(module,exports,e){e("iE8o")},"4mkG":function(module,exports,e){},"4suC":function(module,e,t){"use strict";t.r(e);var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t.n(r),s=t("F/us"),o=t.n(s),c=t("8cuT"),u=t("pR6o"),l=t("L1vm"),d=t("sQ/U"),m=t("EdUP"),p=t("17x9"),h=t.n(p),f=t("welz"),g=t.n(f),b=t("oYk5"),v=t.n(b);function ScrollTracker(e,t){this.scrollHash=o.a.extend({},e),this.ROUTE_EVENT=t&&t.routeEvent||"route",this.$el=v()(window)}function _getCurrentRoute(){var e;return(g.a.history.fragment||"").replace(/[#?].+/g,"")}function _updateRoute(){this.lastRoute=_getCurrentRoute()}ScrollTracker.prototype.start=function(e){this.router=e,_updateRoute.call(this),this.router.on(this.ROUTE_EVENT,function(e,t){this.set(this.lastRoute),_updateRoute.call(this)}.bind(this))},ScrollTracker.prototype.stop=function(){this.router.off(this.ROUTE_EVENT)},ScrollTracker.prototype.get=function(e){return void 0===e&&(e=_getCurrentRoute()),this.scrollHash[e]||0},ScrollTracker.prototype.set=function(e){void 0===e&&(e=_getCurrentRoute()),this.scrollHash[e]=this.$el.scrollTop()},ScrollTracker.prototype.restore=function(e){this.$el.scrollTop(this.get(e))},ScrollTracker.prototype.scroll=function(e){this.$el.scrollTop(e),this.set()};var S=ScrollTracker,I=t("3tO9"),y=t.n(I),C=t("cDf5"),w=t.n(C),P=t("S+eF"),E=t.n(P),A=t("i8i4"),R=t.n(A),T=t("rC9M"),O=t.n(T),N=t("Y3VV"),j=t("5lq0");function provideRequestCountryCode(e){var t=e.displayName||e.name,n=function(t){function RequestCountryCodeContextProvider(){return t.apply(this,arguments)||this}i()(RequestCountryCodeContextProvider,t);var n=RequestCountryCodeContextProvider.prototype;return n.getChildContext=function getChildContext(){return{requestCountryCode:j.a}},n.render=function render(){return a.a.createElement(e,this.props)},RequestCountryCodeContextProvider}(a.a.Component);return n.displayName=t+"RequestCountryCodeContextProvider",n.childContextTypes={requestCountryCode:h.a.string},n}var k=t("ROEb"),x=t("zdiy"),D=t.n(x),M=t("JpaV"),V=t.n(M),L=t("yiR1"),U=t.n(L),H=t("HTi0"),B=0,q=1,G={defaults:{autofocus:!0,"bind.open":"click","bind.close":"click","bind.action":"click","attribute.open":"data-modal","attribute.close":"data-modal-close","attribute.iframe":"data-modal-iframe","attribute.action":"data-modal-action","attribute.focus":"data-modal-focus","attribute.focus.index":1e4,"animate.modal.open":null,"animate.modal.close":null,"animate.modal.duration":250,"animate.overlay.open":null,"animate.overlay.close":null,"animate.overlay.duration":250,"overlay.show":!0,"overlay.class":"overlay","overlay.close":!0,"z.index":9999,"position.top":"50%","position.left":"50%",position:"fixed","iframe.autoclose":!0},$overlay:null,count:0,prevScroll:null,prevModal:null,getModal:function getModal(e,t){var n=v()(e).data("modal.me");return n&&n.constructor==F.prototype.constructor?t?n.customize(t):n:null},makeModal:function makeModal(e,t){var n=v()(e),i=G.getModal(n);return i||(i=new F(n,t),n.data("modal.me",i)),i},setOverlayHeight:function setOverlayHeight(){v()(window).height()<v()(document).height()?G.$overlay.css({height:v()(document).height()+"px"}):G.$overlay.css({height:"100%"})},observeKeyPress:function observeKeyPress(e){this.options["overlay.close"]&&(27==e.keyCode||27==e.DOM_VK_ESCAPE&&0===e.which)&&(this.emitter.trigger("action",!1,this),this.close()),this.emitter.trigger("key",e)},cycleTabs:function cycleTabs(e){var t=this.$el.find("a,input,select,textarea,button").filter(":visible");9==e.keyCode&&v()(e.target).is(t.last())&&window.setTimeout((function(){t.first().focus()}),0)},actionTrigger:function actionTrigger(e){var t,n=v()(e.currentTarget).attr(this.options["attribute.action"]);this.emitter.trigger("action",n,this)},open:function open(){if("fixed"!=this.options.position&&(G.prevScroll={top:v()(document).scrollTop(),left:v()(document).scrollLeft()},window.scrollTo(0,0)),this.$iframe){var e=this.options["iframe.url"]||v()(this.anchor).attr(this.options["attribute.iframe"]);this.$iframe.attr("src",e),this.$iframe.focus()}else{for(var t=this.$el.find("["+this.options["attribute.focus"]+"]"),n=this.$el.find("a,input,select,textarea,button"),i=0;i<n.length;i++)n.eq(i).attr("tabindex",this.options["attribute.focus.index"]+1+i);this.options.autofocus&&(t.size()>0?(t.filter(":visible").eq(0).attr("tabindex",this.options["attribute.focus.index"]),t.filter(":visible").eq(0).focus()):n.size()>0&&(n.filter(":visible").eq(0).attr("tabindex",this.options["attribute.focus.index"]),n.filter(":visible").eq(0).focus()))}this.state=1,this.$el.on(this.options["bind.action"],"["+this.options["attribute.action"]+"]",V()(G.actionTrigger,this)),this.emitter.trigger("open")},close:function close(){var e=this.$el.find("iframe");this.$el.off(".modal").hide(),this.options["iframe.autoclose"]&&e.size()&&e.attr({src:"about:blank"}),G.prevScroll&&(window.scrollTo(G.prevScroll.left,G.prevScroll.top),G.prevScroll=null),this.anchor=null,this.$parent.append(this.$el),this.state=0,this.emitter.trigger("close")}},F=function Modal(e,t){var n=this;this.$el=v()(e),this.state=0,this.$parent=this.$el.parent(),this.customize(t),this.emitter=U.a.emitter(this)};F.prototype.customize=function(e){return this.options=D()({},H.a.parse(this.$el,G.defaults,"data-modal-"),e),this},F.prototype.open=function(){var e=this,t;if(this.anchor&&(t=v()(this.anchor).attr(this.options["attribute.iframe"])),this.options["iframe.url"]&&(t=this.options["iframe.url"]),t&&(this.$iframe=this.$el.find("iframe"),/^https?:\/\/|^\/|^\.\.\//.test(t)&&(this.$iframe.size()&&this.$iframe.attr("src")==t||(this.$iframe.attr("src","about:blank").remove(),this.$iframe=v()("<iframe>").css({height:"100%",width:"100%"}).attr({scrolling:"no",frameborder:0}),this.$el.append(this.$iframe),0!=this.state&&this.$iframe.attr("src",t)))),0!=this.state)return;return this.options["overlay.show"]&&(G.$overlay&&"none"!=G.$overlay.css("display")&&G.$overlay.hasClass(this.options["overlay.class"])?this.$overlay=G.$overlay:(G.$overlay&&G.$overlay.off(".modal").hide().remove(),this.$overlay=G.$overlay=v()("<div>").addClass(this.options["overlay.class"]).hide(),this.$overlay.css({position:"fixed",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:this.options["z.index"]++}),v()("body").append(this.$overlay)),G.setOverlayHeight(),this.reposition(),this.options["animate.overlay.open"]?this.$overlay.animate(this.options["animate.overlay.open"],{duration:this.options["animate.overlay.duration"]}):this.$overlay.show(),G.count++,this.$overlay.data("modal",this)),this.emitter.trigger("opening"),"fixed"==this.options.position&&0!==this.$el.closest("html").length||this.$el.appendTo("body"),this.reposition(),this.$el.show(),this.options["animate.modal.open"]?this.$el.animate(this.options["animate.modal.open"],{duration:this.options["animate.modal.duration"],complete:function complete(){G.open.call(e)}}):G.open.call(this),v()(window).on("resize.modal",V()(G.setOverlayHeight,e)).on("resize.modal",V()(e.reposition,e)).on("scroll.modal",V()(e.reposition,e)),this.$el.on("keydown.modal",V()(G.cycleTabs,e)),v()(window).on("keyup.modal",V()(G.observeKeyPress,e)),this.options["overlay.close"]&&this.$overlay.on(this.options["bind.close"]+".modal",(function(t){e.emitter.trigger("action",!1,e),e.close()})),this.options["attribute.close"]&&this.$el.on(this.options["bind.close"]+".modal","["+this.options["attribute.close"]+"]",(function(t){var n=v()(t.currentTarget);"disabled"!=n.attr("disabled")&&(void 0===n.attr(e.options["attribute.action"])&&e.emitter.trigger("action",!1,e),e.close())})),this},F.prototype.reposition=function(){var e=this.options["position.left"],t=this.options["position.top"];return e&&this.$el.css({position:this.options.position,left:e,marginLeft:/%/.test(e)?this.$el.outerWidth()/2*-1:0,zIndex:this.options["z.index"]++}),t&&this.$el.css({position:this.options.position,top:t,marginTop:/%/.test(t)?this.$el.outerHeight()/2*-1:0,zIndex:this.options["z.index"]++}),this},F.prototype.close=function(){var e=this;if(1!=this.state)return;if(!1===this.trigger("closeRequest"))return;return this.$el.off(".modal"),v()(window).off(".modal"),this.emitter.trigger("closing"),this.options["animate.modal.close"]?this.$el.animate(this.options["animate.modal.close"],{duration:this.options["animate.modal.duration"],complete:function complete(){G.close.call(e)}}):G.close.call(this),0==--G.count&&this.options["overlay.show"]&&this.$overlay&&(this.$overlay.off(".modal"),this.options["animate.overlay.close"]?this.$overlay.animate(this.options["animate.overlay.close"],{duration:this.options["animate.overlay.duration"],complete:function complete(){this.$overlay.hide().remove()}}):this.$overlay.hide().remove()),this};var W=function external(){return G.getModal.apply(null,arguments)||G.makeModal.apply(this,arguments)};W.start=function(e,t){var n=v()(e),i=D()({},G.defaults,t);if(n.data("modals-initialized"))return;n.data("modals-initialized",1),n.on(i["bind.open"]+".modal","["+i["attribute.open"]+"]",(function(e){var t=v()(this),r=t.attr(i["attribute.open"]),a=n.find(r);i=D()({},i,H.a.parse(a,G.defaults,"data-modal-"));var s=G.getModal(a,i)||G.makeModal(a,i);!/^https?:\/\/|^\/|^\.\.\//.test(t.attr("href"))||e.ctrlKey||e.metaKey||e.preventDefault(),s.anchor=this,G.prevModal=a[0],s.open()}))},W.stop=function(e){var t=v()(e);t.unbind(".modal"),t.data("modals-initialized",0),G.prevModal&&F(G.prevModal).close()},W.start("body");var z=W,require,Q="backbone_region",Y="react_region";g.a.View.prototype._super=function(e){return this.constructor.__super__[e].apply(this,o.a.rest(arguments))};var K=null,J={current:null,body:"#origami",views:{},openDepth:0,beforeUnloadMessage:"There are unsaved changes that will be lost if you reload or leave this page.",regionHasUnsavedModel:function regionHasUnsavedModel(e){if(!e)return!1;var t;if(!(!e.view||!e.view.hasUnsavedModel)&&e.view.hasUnsavedModel())return!0;for(var n in e.regions){var i=e.regions[n];if(J.regionHasUnsavedModel(i))return!0}return!1}},X=g.a.Router.extend({initialize:function initialize(){var e=this;this.routePrefix="",this.visitedFragments=[],this.$confirmNavigation=v()(O()({})),v()("body").append(this.$confirmNavigation),v()(window).on("beforeunload.origami",(function(){if(J.regionHasUnsavedModel(J.current))return J.beforeUnloadMessage}))},setupLinks:function setupLinks(e,t){var n=this;this.routePrefix=e,this.linkSelector=t,v()("body").on("click","a"+this.linkSelector,(function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),n.navigateTo(v()(e.currentTarget).attr("href"),!0))}))},addFragmentToVisited:function addFragmentToVisited(e,t){if("object"===w()(t)&&t.replace)return;this.visitedFragments?this.visitedFragments.push(e):this.visitedFragments=[e]},navigateTo:function navigateTo(e,t){e||k.a.error("router.navigateTo received no href"),this.navigate(e.replace(this.routePrefix,""),t)},navigate:function navigate(e,t){var n,i,r;J.current&&J.regionHasUnsavedModel(J.current)?(v()(".confirm-navigation-message").text(J.beforeUnloadMessage),v()(".confirm-navigation-leave").one("click",function(n){this.addFragmentToVisited(e),g.a.Router.prototype.navigate.call(n.currentTarget,e,t)}.bind(this)),z(".confirm-navigation",{"overlay.class":"coursera-overlay"}).open()):(this.addFragmentToVisited(e,t),g.a.Router.prototype.navigate.call(this,e,t))},addRoutes:function addRoutes(e,t){var n=this;for(var i in e){var r=e[i];t&&(r=t(r)),n.route(i,i,r),n.route(i+"/",i+"/",(function(){var e,t=g.a.history.getFragment().replace(/\/(?:\?.*)*$/,"");n.navigate(t,{trigger:!0,replace:!0})}))}},start:function start(e){var t;g.a.history.start({pushState:!0,hashChange:!1,root:e})||this.trigger("error",404)},unsavedWarningModal:function unsavedWarningModal(e){if(J.current&&J.regionHasUnsavedModel(J.current)){var t={"overlay.class":"coursera-overlay"},n;v()(".confirm-navigation-message").text(J.beforeUnloadMessage);var i=z(".confirm-navigation",t);i.once("action",(function(t){e(t)})),i.open()}else e(!0)}}),Z=function region(e,t){var n=this,i=t||{};this.type=e,this.regions=i.regions||{},this.initialize=i.initialize||{},this.to=i.to,this.options={},this.props=t.props||{},this.context=t.context||{},this.fluxibleContext=t.fluxibleContext,this.reactRouter=t.reactRouter,this.id=i.id||e.prototype.name,this.name=e.prototype.name||i.name,this.view=null,this.regions=v.a.extend({},e.prototype.subregions,i.regions||{})};Z.prototype.close=function(e){var t=this;o.a.each(t.regions,(function(n,i){delete t.regions[i],n&&n.close(e)})),t.view.trigger("view:closed"),e||t.view.remove(),t.view.undelegateEvents(),t.view.off("view")},Z.prototype.closing=function(){this.view.trigger("view:closing"),delete J.views[this.view.cid]},Z.prototype.render=function(e){var t=this,n=o.a.compact(o.a.values(t.regions));return o.a.each(n,(function(e){e.render(),e.parent=t})),this.type.prototype.isReactComponent?(this.kind=Y,this.renderReactComponent()):(this.kind=Q,this.renderBackboneView()),o.a.each(n,(function(e){var n=e.view&&e.view.el,i=e.to||e.view&&e.view.to;o.a.isFunction(i)&&(i=i()),i&&!v.a.contains(document,n)&&(t.view.$(i).append(n),e.appended())})),e&&t.view.on("view:appended",(function(){e.trigger("region:appended",{name:t.name})})),t},Z.prototype.renderBackboneView=function(){this.view=new this.type(this.initialize),this.view.region=this,this.view.render(this.render)},Z.prototype.renderReactComponent=function(){var e=this.context.fluxibleContext,t=this.context.router,n=Object.assign({},e?y()({fluxibleContext:e},e):{},t?{router:t}:{}),i=o.a.compose(provideRequestCountryCode)(this.type);this.view=new g.a.View,this.view.region=this;var r=a.a.createElement(N.a,{customContext:n},a.a.createElement(i,this.props));this.view.remove=function(){return R.a.unmountComponentAtNode(this.el),g.a.View.prototype.remove.call(this),this},this.view.on("view:appended",(function(){R.a.render(r,this.el)}))},Z.prototype.appended=function(){var e=this;e.view&&setTimeout((function(){e.view.trigger("view:appended")}),0)},Z.prototype.append=function(e,t){var n=this,i=E.a.defer();this.regions||(this.regions={});var r=function renderAndAppend(r){for(var a=e,s=0,c;n.regions[a];)a+=++s;if(n.regions[a]=r,r.render(K),c=t.to?o.a.isElement(t.to)?n.view.$(t.to):t.to:n.view.$el,o()(t).has("position")){var u=c.children().eq(t.position);u.length>0?v()(u[0]).before(r.view.el):c.append(r.view.el)}else c.append(r.view.el);r.appended(),K.renderedRegions.push(r),K.trigger("region:rendered",{name:r}),i.resolve(r)};return void 0!==e&&("string"==typeof e?K.region.fetch(e,t,r):r(new Z(e,t))),i.promise},Z.prototype.is=function(e){return e.type==this.type&&e.id==this.id},Z.prototype.replace=function(e,t){this.view.$el.replaceWith(e.view.el),t&&t()},Z.prototype.merge=function(e,t){var n=this;n.is(e)?o.a.each(e.regions,(function(e,i){var r=n.regions[i];r&&e?(r.view.trigger("view:merging",e.initialize),r.merge(e,t),r.view.trigger("view:merged",e.initialize)):r&&!e&&(r.closing(),r.parent&&delete r.parent.regions[r.name],r.close())})):n.name==e.name&&(n.closing(),e.render(t),n.replace(e,(function(){n.parent&&(n.parent.regions[e.name]=e,e.parent=n.parent,n.parent.appended()),n.close(),e.appended()})))};var ee=function Origami(e,n){if(K)return K;this.renderedRegions=[],K=this,J.body=e,J.current=n,v()(window).on("resize",(function(){for(var e in J.views)J.views[e].trigger("view:resize")})),this.region={make:function make(e,t){return new Z(e,t)},fetch:function fetch(e,n,i){var r=o.a.uniqueId();K.trigger("region:fetching",{name:e,uid:r});var a=function returnRegion(t){K.trigger("region:fetched",{name:e,uid:r}),i(new Z(t,n))},module=n.module,s=n.async;if(module&&module.lazy||module&&s)module(a);else if(module)a(module);else{var c,u;u=null!==(c=jest)&&void 0!==c&&c.requireActual?function req(e,n){var i;return n(t("AbQT")(e[0]))}:void 0,K.trigger("deprecatedUsage",{type:"asyncRequire",name:e}),u([e],a)}},getSingleton:function getSingleton(){return K},append:function append(e,t,n,i){e||(e={regions:{}});var r=function renderAndAppend(n){for(var r=t,a=0;e.regions[r];)r+=++a;return e.regions[r]=n,n.render(K),i&&i(n),n.appended(),K.renderedRegions.push(n),K.trigger("region:rendered",{name:n}),n};if(void 0!==t){if("string"!=typeof t)return r(new Z(t,n));K.region.fetch(t,n,r)}},open:function open(e,t){var n=e,i={};0===J.openDepth&&K.trigger("open"),J.openDepth++;var r=function onFetch(e){var n=[];o.a.each(e.regions,(function(t,i){if(!t)return;var r=E.a.defer();K.region.open(t,(function(t){t.kind==Q&&i!=t.name&&k.a.error("Region configured with name "+i+" but has name "+t.name),e.regions[i]=t,r.resolve(t)})),n.push(r.promise)})),E.a.allSettled(n).then((function(){if(t)return t(e);if(J.current){if(J.current.is(e))return void J.current.merge(e,K);if(J.current.name==e.name)return e.render(K),void J.current.replace(e,(function(){J.current.close(),J.current=e,J.current.appended()}));J.current.close(!0)}K.dontRender||(J.current=e,v()(J.body).html(J.current.render(K).view.$el),J.current.appended())})).done((function(){--J.openDepth<=0&&(K.on("close",(function(){K.renderedRegions=[],J.current&&(J.current.view.once("view:closed",(function(){J.current=void 0})),J.current.close.call(J.current))})),K.trigger("opened"))}))};Z.prototype.isPrototypeOf(e)?r(e):(o.a.isObject(e)&&(i=e[n=o.a.keys(e)[0]]),K.region.fetch(n,i,r))}},this.interruptRender=function(){this.dontRender=!0}.bind(this),this.cancelInterrupt=function(){this.dontRender=!1}.bind(this),this.router=new X,this.store={},this.tracker=[]};o.a.extend(ee.prototype,g.a.Events);var te=ee,ne=t("RIqP"),ie=t.n(ne),re=t("BVC1"),ae=t("47m/"),se=t.n(ae),oe=t("Af4h"),ce=t.n(oe),ue=t("1mBx"),le=t.n(ue),de=t("tta6"),me=t("3Hqd");function createMountNode(e){var t=document.getElementById(e);return t||((t=document.createElement("div")).id=e,document.body.appendChild(t)),t}function runTrackingRouter(e,t){return Object(de.a)({routes:e}).then((function(e){return R.a.render(a.a.createElement(le.a,e),t),e.router}))}var pe,he={createMountNode:createMountNode,runTrackingRouter:runTrackingRouter},fe,ge,be,ve,Se=function App(e){var t=e.children;return(a.a.createElement("div",null,fe||(fe=a.a.createElement("div",{"data-js":"origami"})),t))};Se.propTypes={children:a.a.PropTypes.node};var Ie=function(e){function NotFoundRedirect(){return e.apply(this,arguments)||this}i()(NotFoundRedirect,e);var t=NotFoundRedirect.prototype;return t.componentWillMount=function componentWillMount(){ve.trigger("error",404)},t.render=function render(){return null},NotFoundRedirect}(a.a.Component),ye=function legacyRouteHandler(e,t,n){var r;return(r=function(r){function LegacyRouteHandler(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))||this).state={userConfirmed:!1},e.routerWillLeave=function(t){if(e.state.userConfirmed)return!0;if(t)return e.setState({nextLocation:t}),ve.trigger("routerWillLeave",(function(t){t?e.setState({userConfirmed:t},(function(){e.context.router.push(e.state.nextLocation)})):e.setState({nextLocation:null,userConfirmed:!1})})),!1},e}i()(LegacyRouteHandler,r);var s=LegacyRouteHandler.prototype;return s.componentDidMount=function componentDidMount(){this.executeLegacyRoute()},s.componentDidUpdate=function componentDidUpdate(e){this.props.location.key!==e.location.key&&this.executeLegacyRoute()},s.executeLegacyRoute=function executeLegacyRoute(){var i=t(e,this.context.router.params);n.apply(this,i.concat(this.context.router.location.query)),this.context.router.setRouteLeaveHook(this.props.route,this.routerWillLeave)},s.render=function render(){return ge||(ge=a.a.createElement("div",null))},LegacyRouteHandler}(a.a.Component)).propTypes={location:a.a.PropTypes.object.isRequired,route:a.a.PropTypes.object.isRequired},r.contextTypes={router:a.a.PropTypes.object.isRequired},r},Ce,we=ve=new(function(){function ReactRouterAdapter(){this.routes={},this.nativeRoutes=[],this.visitedFragments=[],U.a.emitter(this)}var e=ReactRouterAdapter.prototype;return e.addRoutes=function addRoutes(e,t){t?Object.assign(this.routes,o()(e).mapObject(t)):Object.assign(this.routes,e)},e.addNativeRoutes=function addNativeRoutes(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.nativeRoutes.push(e)},e.getLegacyRoutes=function getLegacyRoutes(e){var t=this;return o()(this.routes).map((function(n,i){return i?a.a.createElement(se.a,{key:i,path:i,component:ye(i,t.getLegacyRouteParams,n)}):a.a.createElement(ce.a,{key:"index:".concat(e),component:ye(i,t.getLegacyRouteParams,n)})}))},e.getRoutes=function getRoutes(e){if(!this.getLegacyRoutes(e).length&&this.nativeRoutes.length)return this.nativeRoutes;var t=[].concat(ie()(this.getLegacyRoutes(e)),ie()(this.nativeRoutes),[be||(be=a.a.createElement(se.a,{path:"*",key:"notFoundRoute",component:Ie}))]);return(a.a.createElement(se.a,{path:e,component:Se},t))},e.getLegacyRouteParams=function getLegacyRouteParams(e,t){var n=/\:\w*/g,i=e.match(n);return i?o()(i).chain().compact().invoke("slice",1).reduce((function(e,n){return e.concat(t[n])}),[]).value():[]},e.setupLinks=function setupLinks(e,t){this.routePrefix=e,this.linkSelector=t,v()("body").on("click","a"+this.linkSelector,function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),this.navigate(v()(e.currentTarget).attr("href"),!0))}.bind(this))},e.navigate=function navigate(e,t){var n=e;0!==n.indexOf(this.routePrefix)&&(n=re.a.join(this.routePrefix,n)),t&&t.replace||this.addFragmentToVisited(n),!0===t||t&&!0===t.trigger?t&&t.replace?this.rr.replace(n):this.rr.push(n):t&&t.replace?window.history.replaceState(null,null,n):window.history.pushState(null,null,n)},e.navigateTo=function navigateTo(e,t){if(!e&&""!==e)throw new Error("router.navigateTo received no href");this.navigate(e.replace(this.routePrefix,""),t)},e.addFragmentToVisited=function addFragmentToVisited(e){this.visitedFragments.push(e)},e.start=function start(e,t){var n=this,i=createMountNode("rendered-content");runTrackingRouter(this.getRoutes(e),i).then((function(e){n.rr=e}))},ReactRouterAdapter}()),Pe=t("DzKf"),Ee=new te("[data-js=origami]");Ee.router.on("route",(function(){Object(Pe.b)()})),Ee.enableRR=function(){var e=Ee.router;Ee.router=we,Ee.router.on("routerWillLeave",(function(t){e.unsavedWarningModal(t)})),g.a.history={}},Ee.on("deprecatedUsage",Pe.a);var Ae=Ee,Re=new S;Re.start(Ae.router);var Te=Re,Oe=function(e){function AssignmentSubmitWrapper(){return e.apply(this,arguments)||this}i()(AssignmentSubmitWrapper,e);var t=AssignmentSubmitWrapper.prototype;return t.componentDidMount=function componentDidMount(){Te.scroll(0)},t.render=function render(){return this.props.isSubmitted?this.props.submittedView:this.props.editView},AssignmentSubmitWrapper}(a.a.Component);Oe.propTypes={isSubmitted:h.a.bool.isRequired,submittedView:h.a.node.isRequired,editView:h.a.node.isRequired};var Ne=Oe,je=t("VMeS"),ke=t("JAmU"),xe=t("pVnL"),_e=t.n(xe),De=t("J4zp"),Me=t.n(De),Ve=t("sEfC"),Le=t.n(Ve),Ue=t("AeFk"),He=t("HOoY"),Be=t("+LJP"),qe=t("kwmr"),Ge=t("W1i5"),Fe=t("fAYU"),We=t("HulD"),ze=t("gNwb"),$e=t("HXet"),Qe=t.n($e),Ye=Object(ze.d)({type:"BUTTON"})(Fe.a),Ke="https://learner.coursera.help/hc/articles/209818863",Je,Xe=function HonorCodeNotification(){return a.a.createElement(We.a,{inlineAction:a.a.createElement(Ye,{href:Ke,variant:"quiet",typographyVariant:"body1",target:"_blank",rel:"noopener noreferrer",trackingName:"clicked_link_to_honor_code",role:"link"},Qe()("View Honor Code")),severity:"information"},Qe()("Protect the academic integrity of your work and that of fellow learners by following Coursera’s Honor Code."))},Ze,et=function HonorCodeRejectedNotification(){return a.a.createElement(We.a,{severity:"warning"},Qe()("To submit your assignment, you’ll need to agree to the Coursera Honor Code."))},tt=t("VkAN"),nt=t.n(tt),it=t("4KRT"),rt=t("lTCR"),at=t.n(rt),st,ot=at()(st||(st=nt()(["\n  query GetIntegrityStatus(\n    $submission: IntegrityCheck_SubmissionInput!\n    $orderedChecks: [IntegrityCheck_StageDefinitionInput!]!\n  ) {\n    IntegrityCheck {\n      queryIntegrityChecks(submission: $submission, orderedChecks: $orderedChecks) {\n        deterrence\n        promptResults {\n          promptId\n          deterredChecks\n        }\n      }\n    }\n  }\n"]))),ct,ut=function IntegrityStatusAPI(e){var t=e.children,n=e.queryData,i=e.onDataLoaded,r=function onCompleted(e){var t;null!=e&&null!==(t=e.IntegrityCheck)&&void 0!==t&&t.queryIntegrityChecks?i(e):i(void 0)};return a.a.createElement(it.Query,{query:ot,notifyOnNetworkStatusChange:!0,fetchPolicy:"no-cache",variables:n,skip:!n,context:{clientName:"gatewayGql"},onCompleted:r},(function(){return t}))},lt,dt,mt;!function(e){e.GIBBERISH="GIBBERISH",e.TEXTSIMILARITY="TEXTSIMILARITY"}(lt||(lt={})),function(e){e.TEXT="TEXT"}(dt||(dt={})),function(e){e.INTEGRITY_CHECK_ACTIVE="INTEGRITY_CHECK_ACTIVE",e.INTEGRITY_CHECK_NONE="INTEGRITY_CHECK_NONE",e.INTEGRITY_CHECK_PASSIVE="INTEGRITY_CHECK_PASSIVE"}(mt||(mt={}));var pt=t("Qp/S"),ht=function hasPlagiarism(e){if(!e)return!1;return!!e.deterredChecks.find((function(e){return e===lt.TEXTSIMILARITY}))},ft=function hasGibberish(e){if(!e)return!1;return!!e.deterredChecks.find((function(e){return e===lt.GIBBERISH}))},gt=function isActiveDetterence(e){if(!e)return!1;return e.deterrence===mt.INTEGRITY_CHECK_ACTIVE},bt=function getOrderedChecks(e){var t=[];return Object(pt.a)(e)&&t.push({checkType:lt.GIBBERISH,withFiltering:!0}),Object(pt.c)(e)&&t.push({checkType:lt.TEXTSIMILARITY,withFiltering:!0}),t},vt=function hasPlagiarismInSomeParts(e){if(!e||e.length<=0)return!1;return e.some(ht)},St=function hasGibberishInSomeParts(e){if(!e||e.length<=0)return!1;return e.some(ft)},It=function processIntegrityStatusResults(e){var t,n,i=e.courseId,r=e.eventData,a=e.integrityContext,s=e.latestSubmissionAndRelated,o=e.integrityStatus,c=e.scrollToTop,u=null==o?void 0:null===(t=o.IntegrityCheck)||void 0===t?void 0:t.queryIntegrityChecks,l=s.submission.versionedAssignmentId,m=null!==(n=null==l?void 0:l.split("@"))&&void 0!==n?n:[],p,h=Me()(m,1)[0];a.setAssignmentId(h),a.setScoreResults(u),(vt(null==u?void 0:u.promptResults)||St(null==u?void 0:u.promptResults))&&c();var f={user_id:d.a.get().id,course_id:i,peer_assignment_id:h};gt(u)&&vt(null==u?void 0:u.promptResults)&&He.a.trackComponent(r,f,"simtext_active_deterrence","deterrence"),gt(u)&&St(null==u?void 0:u.promptResults)&&He.a.trackComponent(r,f,"gibberish_active_deterrence","deterrence"),null==u||u.promptResults.forEach((function(e){var t=y()(y()({},f),{},{peer_assignment_submission_schema_part_id:e.promptId});ht(e)&&He.a.trackComponent(r,t,"simtext_deterrence","deterrence"),ft(e)&&He.a.trackComponent(r,t,"gibberish_deterrence","deterrence")}))},yt=Object(r.createContext)({isChecking:!1,scoreResults:void 0,assignmentId:void 0,hasLocalChanges:!1,setScoreResults:function setScoreResults(){return},setIsChecking:function setIsChecking(){return},setHasLocalChanges:function setHasLocalChanges(){return},setAssignmentId:function setAssignmentId(){return},getHasPlagiarismInPart:function getHasPlagiarismInPart(){return!1},getHasGibberishInPart:function getHasGibberishInPart(){return!1},getHasPlagiarismInSubmission:function getHasPlagiarismInSubmission(){return!1},getHasGibberishInSubmission:function getHasGibberishInSubmission(){return!1},getShouldDeterLearnerFromSubmitting:function getShouldDeterLearnerFromSubmitting(){return!1},clearResults:function clearResults(){return}}),Ct=function useIntegrityStatusContext(){return Object(r.useContext)(yt)},wt=function IntegrityStatusContextProvider(e){var t=e.children,n=Object(r.useState)(!1),i=Me()(n,2),s=i[0],o=i[1],c=Object(r.useState)(!1),u=Me()(c,2),l=u[0],d=u[1],m=Object(r.useState)(void 0),p=Me()(m,2),h=p[0],f=p[1],g=Object(r.useState)(void 0),b=Me()(g,2),v=b[0],S=b[1],I=function getHasPlagiarismInPart(e){var t,n=null==v?void 0:null===(t=v.promptResults)||void 0===t?void 0:t.find((function(t){return t.promptId===e}));return ht(n)},y=function getHasGibberishInPart(e){var t=null==v?void 0:v.promptResults.find((function(t){return t.promptId===e}));return ft(t)},C=function getHasPlagiarismInSubmission(){return vt(null==v?void 0:v.promptResults)},w=function getHasGibberishInSubmission(){return St(null==v?void 0:v.promptResults)},P=function getShouldDeterLearnerFromSubmitting(){return gt(v)},E=function clearResults(){S(void 0),d(!1)};return a.a.createElement(yt.Provider,{value:{scoreResults:v,isChecking:s,assignmentId:h,hasLocalChanges:l,setHasLocalChanges:d,setIsChecking:o,setScoreResults:S,setAssignmentId:f,getHasPlagiarismInPart:I,getHasGibberishInPart:y,getHasPlagiarismInSubmission:C,getHasGibberishInSubmission:w,getShouldDeterLearnerFromSubmitting:P,clearResults:E}},t)},Pt=t("KH0K"),Et=t("QILm"),At=t.n(Et),Rt=["children"],Tt=Object(r.createContext)({isChecking:!1,scoreResults:void 0,setScoreResults:function setScoreResults(){return},setIsChecking:function setIsChecking(){return},getHasPlagiarismInPart:function getHasPlagiarismInPart(){return!1},getIsSubmissionPlagiarized:function getIsSubmissionPlagiarized(){return!1},getHasPlagiarismInAllParts:function getHasPlagiarismInAllParts(){return!1}}),Ot=function useSimtextDeterrenceContext(){return Object(r.useContext)(Tt)},Nt=function hasPlagiarism(e){if(!e)return!1;return e.topScore>0},jt=function hasPlagiarismInSomeParts(e){if(!e||e.length<=0)return!1;return e.some(Nt)},kt=function hasPlagiarismInAllParts(e){if(!e||e.length<=0)return!1;return e.every(Nt)},xt=function SimtextDeterrenceContextProvider(e){var t=e.children,n=At()(e,Rt),i=Object(r.useState)(!1),s=Me()(i,2),o=s[0],c=s[1],u=Object(r.useState)(n.scoreResults),l=Me()(u,2),d=l[0],m=l[1],p=function getHasPlagiarismInPart(e){var t=null==d?void 0:d.find((function(t){return t.partId===e}));return Nt(t)},h=function getIsSubmissionPlagiarized(){return jt(d)},f=function getHasPlagiarismInAllParts(){return kt(d)};return a.a.createElement(Tt.Provider,{value:{scoreResults:d,isChecking:o,setIsChecking:c,setScoreResults:m,getHasPlagiarismInPart:p,getIsSubmissionPlagiarized:h,getHasPlagiarismInAllParts:f}},t)},_t,Dt=at()(_t||(_t=nt()(['\n  query GetSimilarityScoresQuery($input: DataMap!, $skip: Boolean!) {\n    GetSimilarityScores(input: $input)\n      @skip(if: $skip)\n      @rest(\n        type: "GetSimilarityScores"\n        path: "grpc/simtext/similarity/v1beta1/SimilarityAPI/GetSimilarityScores"\n        method: "POST"\n      ) {\n      scores\n    }\n  }\n']))),Mt,Vt=function SimtextAPI(e){var t=e.children;return Object(Ue.d)(Tt.Consumer,null,(function(e){return Object(Ue.d)(it.Query,{query:Dt,notifyOnNetworkStatusChange:!0,fetchPolicy:"no-cache",variables:{skip:!0}},(function(n){var i=n.refetch,r,a;return t({getSimilarityScores:function getSimilarityScores(t){return e.setIsChecking(!0),new Promise((function(n,r){i({input:{query:t},skip:!1}).then((function(t){var i,r,a=t.data.GetSimilarityScores.scores.filter((function(e){return e.status!==Pt.SimilarityStatus.SIMILARITY_STATUS_SKIPPED_PART}));return e.setScoreResults(a),e.setIsChecking(!1),n(a)})).catch((function(e){r(e)}))}))},clearSimtextResult:function clearSimtextResult(){e.setScoreResults(void 0)}})}))}))},Lt,Ut=function IntegrityStatusPeerItemComponent(e){var t=e.children;return(a.a.createElement(wt,null,a.a.createElement(yt.Consumer,null,(function(e){return a.a.createElement(xt,null,a.a.createElement(Vt,null,(function(n){var i=n.getSimilarityScores,r=n.clearSimtextResult;return t({getSimilarityScores:i,clearSimtextResult:r,integrityContext:e})})))}))))},Ht=t("E+oP"),Bt=t.n(Ht),qt=function parseRichText(e){if("cml"===(null==e?void 0:e.typeName))return e.definition.value;if("html"===(null==e?void 0:e.typeName))return e.definition;return e};function createSimilarityQuery(e){var t,n=e.submission,i=n.definition,r=n.versionedAssignmentId,a=["richText","plainText"],s=i.parts,o=Object.entries(s).filter((function(e){var t,n=Me()(e,2)[1];return a.includes(n.typeName)})).map((function(e){var t=Me()(e,2),n=t[0],i=t[1],r=i.typeName,a=i.definition;return{partId:n,text:"richText"===r?qt(a.richText):a.plainText}})),c=null!==(t=null==r?void 0:r.split("@"))&&void 0!==t?t:[],u,l;return{assignmentId:Me()(c,1)[0],submitterId:String(d.a.get().id),parts:o}}function createIntegrityQuery(e){var t,n=e.submission,i=n.definition,r=n.versionedAssignmentId,a=["richText","plainText"],s=i.parts,o=Object.entries(s).filter((function(e){var t,n=Me()(e,2)[1];return a.includes(n.typeName)})).map((function(e){var t=Me()(e,2),n=t[0],i=t[1],r=i.typeName,a=i.definition;return{promptId:n,content:{typeTag:dt.TEXT,textContent:"richText"===r?qt(a.richText):a.plainText}}})).filter((function(e){return!Bt()(e.promptId)})),c=null!==(t=null==r?void 0:r.split("@"))&&void 0!==t?t:[],u=Me()(c,2),l=u[0],m=u[1];return{assignmentId:l,submitterId:String(d.a.get().id),prompts:o,version:Number(m)}}var Gt=t("+c4W"),Ft=t.n(Gt),Wt=t("MJIl"),zt=t.n(Wt),$t=t("3WF5"),Qt=t.n($t),Yt=t("mRsi"),Kt=t.n(Yt),Jt=t("TSYQ"),Xt=t.n(Jt),Zt=t("yhVA"),en=t.n(Zt),tn=function(e){function AssignmentSubmitAlertsView(){return e.apply(this,arguments)||this}var t;return i()(AssignmentSubmitAlertsView,e),AssignmentSubmitAlertsView.prototype.render=function render(){var e=this.props,t=e.isSubmitted,n=e.submissionAppState,i=n.submitState,r=n.saveState,s=n.showValidation,o=n.errorMessage,c=e.errorTree;if(!c||!s)return null;if(t)return a.a.createElement("div",{className:"rc-AssignmentSubmitAlertsView"},en()("Your work is submitted."));var u=zt()(AssignmentSubmitAlertsView.getAllErrors(c),Ft()("blocksSubmit")),l=!!o,d=!o&&"ready"===i&&"ready"===r&&u,m=!o&&"saveError"===r&&!o,p=!o&&"submitError"===i&&"ready"===r&&u,h=!o&&"submitError"===i&&"ready"===r&&!u,f=Xt()("rc-AssignmentSubmitAlertsView","bt3-alert",{"bt3-alert-warning":d,"bt3-alert-danger":l||m||p||h});if(!(l||d||m||p||h))return null;return(a.a.createElement("div",{className:f},l&&a.a.createElement("span",null,o),p&&a.a.createElement("span",null,en()("Error submitting assignment: please fix the errors below before submitting.")),d&&a.a.createElement("span",null,en()("Your assignment was saved, but please fix the errors below before submitting.")),h&&a.a.createElement("span",null,en()("Your assignment was saved, but an unknown error occurred while submitting.\n              Please refresh the page and try again.")),m&&a.a.createElement("span",null,en()("Save error. Please try again."))))},AssignmentSubmitAlertsView}(a.a.Component);tn.getAllErrors=function(e){if(!e)return[];var t=Kt()(Qt()(e.children,(function(e){return tn.getAllErrors(e)})));return e.errors.concat(t)};var nn=tn,rn,an=function EditView(e){var t=e.submissionAppState,n=e.errorTree,i=e.isSubmitted,r=e.children;return(a.a.createElement("div",{className:"rc-AssignmentEditView rc-AssignmentSubmit"},a.a.createElement(nn,{isSubmitted:i,submissionAppState:t,errorTree:n}),a.a.createElement("div",null,r)))},sn=t("pNJH"),on=t("nNSt"),cn,un=function IntegrityStatusResult(){var e=Ct(),t=e.getShouldDeterLearnerFromSubmitting,n=e.getHasPlagiarismInSubmission,i=e.getHasGibberishInSubmission;if(t())return a.a.createElement(on.a,{severity:"error"},Qe()("Review the notifications below and update your responses before submitting to complete this assignment."));if(n()||i())return a.a.createElement(on.a,{severity:"warning"},Qe()("Review the notifications below and consider updating your responses before submitting."));return null},ln=t("jts1"),dn=t("DWfD"),mn,pn=function SimtextSubmissionResult(){var e,t;if((0,Ot().getHasPlagiarismInAllParts)())return a.a.createElement(on.a,{severity:"error"},Qe()("Review the notifications below and update your responses before submitting to complete this assignment."));return null},hn=t("mk7w"),fn=t("++Ya"),gn=t("ZJgU"),bn=t("8Hdl"),vn=t("PSZr"),Sn=t("POo7"),In,yn,Cn,wn=Object(ze.d)({type:"BUTTON"})(gn.a),Pn={flagStyle:function flagStyle(e){return Object(Ue.c)(In||(In=nt()(["\n    padding: ",";\n  "])),e.spacing(4,0,4,0))},successIcon:function successIcon(e){return Object(Ue.c)(yn||(yn=nt()(["\n    margin-bottom: -",";\n  "])),e.spacing(4))}},En,An=function GibberishPromptResult(e){var t=e.partId,n=e.trackingData,i=Ct(),a=i.getHasGibberishInPart,s=i.assignmentId,o=Object(r.useState)(!1),c=Me()(o,2),u=c[0],l=c[1];if(a(t))return Object(Ue.d)("div",null,Object(Ue.d)(on.a,{severity:"warning"},Qe()("Does your response relate to the assignment’s question? Update your response before submitting.")),u?Object(Ue.d)("div",{css:Pn.flagStyle},Object(Ue.d)(vn.a,{size:"small",color:"success",css:Pn.successIcon})," ",Object(Ue.d)(bn.a,{variant:"body2",display:"inline"},Qe()("Thanks for your input! We’ll use it to improve the experience."))):Object(Ue.d)("div",{css:Pn.flagStyle},Object(Ue.d)(bn.a,{variant:"body2",display:"inline"},Qe()("Do you believe you received this in error?"))," ",Object(Ue.d)(wn,{trackingName:"gibberish_deterrence_user_flagged_false_positive",trackingData:y()(y()({},n),{},{assignment_id:s,user_id:d.a.get().id,part_id:t}),"data-test":"flag-false-positive-button",variant:"ghost",size:"small",icon:Cn||(Cn=Object(Ue.d)(Sn.a,{size:"small"})),iconPosition:"before",onClick:function onClick(){return l(!0)}},Qe()("Let us know"))));return null},Rn,Tn,On,Nn=Object(ze.d)({type:"BUTTON"})(gn.a),jn={flagStyle:function flagStyle(e){return Object(Ue.c)(Rn||(Rn=nt()(["\n    padding: ",";\n  "])),e.spacing(4,0,4,0))},successIcon:function successIcon(e){return Object(Ue.c)(Tn||(Tn=nt()(["\n    margin-bottom: -",";\n  "])),e.spacing(4))}},kn,xn=function PlagiarismPromptResult(e){var t=e.partId,n=e.trackingData,i=Ct(),a=i.getHasPlagiarismInPart,s=i.assignmentId,o=Object(r.useState)(!1),c=Me()(o,2),u=c[0],l=c[1];if(a(t))return Object(Ue.d)("div",null,Object(Ue.d)(on.a,{severity:"warning"},Qe()("Is your response your original work? It looks similar to another learner’s previous submission. Update your response before submitting.")),u?Object(Ue.d)("div",{css:jn.flagStyle},Object(Ue.d)(vn.a,{size:"small",color:"success",css:jn.successIcon})," ",Object(Ue.d)(bn.a,{variant:"body2",display:"inline"},Qe()("Thanks for your input! We’ll use it to improve the experience."))):Object(Ue.d)("div",{css:jn.flagStyle},Object(Ue.d)(bn.a,{variant:"body2",display:"inline"},Qe()("Do you believe you received this in error?"))," ",Object(Ue.d)(Nn,{trackingName:"simtext_deterrence_user_flagged_false_positive",trackingData:y()(y()({},n),{},{assignment_id:s,user_id:d.a.get().id,part_id:t}),"data-test":"flag-false-positive-button",variant:"ghost",size:"small",icon:On||(On=Object(Ue.d)(Sn.a,{size:"small"})),iconPosition:"before",onClick:function onClick(){return l(!0)}},Qe()("Let us know"))));return null},_n=t("QRij"),Dn=t("2JpL"),Mn,Vn=function SimtextResult(e){var t=e.partId,n,i;if((0,Ot().getHasPlagiarismInPart)(t))return Object(Ue.d)(on.a,{severity:"warning"},Qe()("Looks like your submission is very similar to another learner’s. Ensure it’s your original work before submitting."));return null},Ln=t("3H1I"),Un=t("fiqM"),Hn,Bn=function PlainTextEditView(e){var t=e.submissionPart,n=e.update,i=e.disabled,r=e.id,s=e.ariaLabelledBy;if("plainText"!==t.typeName)return null;return(a.a.createElement("textarea",{id:r,defaultValue:t.definition.plainText,className:"c-peer-review-submit-text-field bt3-form-control","aria-labelledby":s,onChange:function onChange(e){var i=v.a.extend(!0,{},t);i.definition.plainText=e.target.value,n(i)},disabled:i}))},qn=t("BkRI"),Gn=t.n(qn),Fn=t("ZFE0"),Wn=t("EqTq"),zn=t("kvW3"),$n=t("DuzF"),Qn=t("h4VP"),Yn=t("qC2T"),Kn=t.n(Yn),Jn=t("Tqty"),Xn=1,Zn=Object(Wn.a)("MinWordCount"),ei=function wordCount(e){if(!e)return 0;if("string"==typeof e){var t=new $n.a,n=Object(Qn.a)(t.toCML(e,!0,!0));return Object(Qn.h)(n)}return Object(Qn.h)(e)},ti,ni=function MinWordCount(e){var t=e.minWordCount,n=e.content,i=ei(n),r=t||1,s=t?Kn()("Minimum {minWordCount, plural, one{# word} other{# words}}: {currentWordCount, number}"):Kn()("Your answer needs to be a little bit longer. Write a few sentences to complete your assignment.");return a.a.createElement("div",{className:Zn()},i<r&&a.a.createElement(zn.b,{message:s,minWordCount:t,currentWordCount:i}))},ii="cml",ri={dtdId:"assess/1",value:"<co-content><text></text></co-content>"};function getImageUploadOptions(e,t){return{context:{courseId:e,itemId:t},pendingAssetCreation:{assetType:"image",typeName:"pending",tags:[]},assetCreationUrl:"/api/onDemandPeerAssetCreationAttempts.v1"}}var ai={getImageUploadOptions:getImageUploadOptions},si=t("qHPc"),oi=t("8kAM"),ci=t("7GkZ"),ui=t("uFJi"),li,di=function(e){function RichTextCMLEditor(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={isFocused:!1},t.onFocus=function(){t.setState({isFocused:!0})},t.onBlur=function(){t.setState({isFocused:!1})},t}var t;return i()(RichTextCMLEditor,e),RichTextCMLEditor.prototype.render=function render(){var e=this.props,t=e.content,n=e.courseId,i=e.itemId,r=e.onChange,s=e.id,o=e.disabled,c=e.ariaLabelledBy;if(o)return a.a.createElement(ci.a,{cml:t,contentId:s});var u=this.state.isFocused;return(a.a.createElement("div",{className:Xt()("rc-RichTextCmlEditor",{focused:u})},a.a.createElement(si.a,{contentId:s||i,shouldDebounceChanges:!1,onFocus:this.onFocus,onBlur:this.onBlur,initialCML:t,uploadOptions:{asset:ai.getImageUploadOptions(n,i)},onContentChange:r,ariaLabelledBy:c,isLearnerUpload:!0,customTools:[oi.a.BOLD,oi.a.ITALIC,oi.a.MATH,oi.a.LINK,oi.a.UNLINK,oi.a.UNORDERED_LIST,oi.a.ORDERED_LIST,oi.a.IMAGE,oi.a.SUBSCRIPT,oi.a.SUPERSCRIPT]})))},RichTextCMLEditor}(a.a.Component),mi=t("nU/4"),pi=t("GoyQ"),hi=t.n(pi),fi=t("xy3j"),gi=t("9vL/");function getPromptText(e){var t=hi()(e.prompt),n="string"==typeof e.prompt?{}:e.prompt,i=n.typeName,r=void 0===i?"":i,a=n.definition,s=void 0===a?"":a,o="";return t&&("cml"===r&&(o=gi.a.toPlainText(e.prompt)||""),"html"===r&&"string"==typeof s&&(o=Object(fi.a)(s))),o}var bi=t("KMW/"),vi=t("Mnh/"),Si=t.n(vi),Ii,yi="PeerReview";null===(Ii=bi.a.addDefaults)||void 0===Ii||Ii.call(bi.a,[Si.a]);var Ci,wi={get:function get(e,t,n){return bi.a.get(yi,e,t,n)},preview:function preview(e,t,n){return bi.a.preview(yi,e,t,n)}},Pi={notificationContainer:function notificationContainer(e){return Object(Ue.c)({marginBottom:e.spacing(8)})}},Ei=function enableDefaultMinWordCount(e){return wi.get("enableDefaultMinWordCount",{course_id:e})},Ai=function RichTextEditView(e){var t,n,i,a=e.courseId,s=e.submissionPart,o=e.update,c=e.disabled,u=e.itemId,l=e.submissionSchemaPart,m=e.ariaLabelledBy,p=e.eventData,h=e.versionedAssignmentId,f=function mapContentFn(e){return e},g=s.definition.richText,b=Object(r.useState)(!1),v=Me()(b,2),S=v[0],I=v[1];if("richText"!==s.typeName||"string"==typeof g)return null;var y=g.typeName,C="cml"===y?di:mi.a,w;"html"===y?(w=g.definition,f=function mapContentFn(e){return{typeName:"html",definition:e}}):w=g;var P=getPromptText(l),E=null==l?void 0:null===(t=l.details)||void 0===t?void 0:null===(n=t.definition)||void 0===n?void 0:n.minWordCount,A=E||Ei(a),R=null!==(i=null==h?void 0:h.split("@"))&&void 0!==i?i:[],T,O=Me()(R,1)[0];return Object(Ue.d)("div",{className:"rc-RichTextEditView",onPaste:function onPaste(e){var t=e.clipboardData.getData("text").length,n=d.a.get().id;He.a.trackComponent(p,{clipboardTextLength:t,userId:n,peer_assignment_id:O},"pasting_detection","paste"),I(!0)}},S&&Object(Ue.d)("div",{css:Pi.notificationContainer},Object(Ue.d)(Fn.a,{onDismiss:function onDismiss(){return I(!1)}})),!c&&Object(Ue.d)(C,{content:w,courseId:a,itemId:u,promptText:P,onChange:function onChange(e){var t=Gn()(s);t.definition.richText=f(e),o(t)},ariaLabelledBy:m}),c&&Object(Ue.d)(C,{content:w,courseId:a,itemId:u,promptText:P,onChange:function onChange(e){var t=Gn()(s);t.definition.richText=f(e),o(t)},ariaLabelledBy:m}),A&&Object(Ue.d)(ni,{minWordCount:E,content:w}))},Ri=function RichTextEditViewContainer(e,t){return Object(Ue.d)(Ai,_e()({eventData:t._eventData},e))};Ri.contextTypes={_eventData:h.a.object};var Ti=Ri,Oi,Ni=function(e){function UrlEditView(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).onChangeUrl=function(e){var n=t.props,i=n.submissionPart,r=n.update,a=v.a.extend(!0,{},i);a.definition.url=e.currentTarget.value,r(a)},t.onChangeTitle=function(e){var n=t.props,i=n.submissionPart,r=n.update,a=v.a.extend(!0,{},i);a.definition.title=e.currentTarget.value,r(a)},t.onChangeCaption=function(e){var n=t.props,i=n.submissionPart,r=n.update,a=v.a.extend(!0,{},i);a.definition.caption=e.currentTarget.value,r(a)},t}var t;return i()(UrlEditView,e),UrlEditView.prototype.render=function render(){var e=this.props,t=e.submissionPart,n=e.id,i=e.ariaLabelledBy;if("url"!==t.typeName)return null;return(a.a.createElement("div",{className:"rc-UrlEditView"},a.a.createElement("input",{id:n,className:Xt()("c-peer-review-submit-text-field",{"c-peer-review-submit-text-field-group-top":!!t.definition.url},"bt3-form-control"),type:"text",placeholder:en()("https://example.com"),"aria-labelledby":i,defaultValue:t.definition.url,onChange:this.onChangeUrl,disabled:this.props.disabled}),t.definition.url&&a.a.createElement("div",null,a.a.createElement("div",{className:"c-peer-review-submit-text-field-container"},a.a.createElement("input",{className:Xt()("c-peer-review-submit-text-field","c-peer-review-submit-text-field-group-middle","bt3-form-control"),type:"text",placeholder:en()("Title"),defaultValue:t.definition.title,onChange:this.onChangeTitle,disabled:this.props.disabled}),!t.definition.title&&a.a.createElement("div",{className:"c-peer-review-submit-text-field-annotation"},en()("optional"))),a.a.createElement("div",{className:"c-peer-review-submit-text-field-container"},a.a.createElement("textarea",{className:Xt()("c-peer-review-submit-textarea-field","c-peer-review-submit-text-field-group-bottom","bt3-form-control"),placeholder:en()("Caption"),defaultValue:t.definition.caption,onChange:this.onChangeCaption,disabled:this.props.disabled}),!t.definition.caption&&a.a.createElement("div",{className:"c-peer-review-submit-text-field-annotation"},en()("optional"))))))},UrlEditView}(a.a.Component),ji=t("beC1"),ki=t("Egb2"),xi,_i,Di=function(e){function SubmissionPartEditView(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).promptId="prompt-".concat(t.props.partId),t.inputId="input-".concat(t.props.partId),t.state={hasUnsavedChanges:!1},t.updatePart=function(e){var n=t.props.update;t.setState({hasUnsavedChanges:!0}),n(e)},t}i()(SubmissionPartEditView,e);var t=SubmissionPartEditView.prototype;return t.componentDidUpdate=function componentDidUpdate(e){var t=this.props.draftHasLocalChanges,n=this.state.hasUnsavedChanges;e.draftHasLocalChanges&&!t&&n&&this.setState({hasUnsavedChanges:!1})},t.renderEditor=function renderEditor(){var e=this.props,t=e.courseId,n=e.itemId,i=e.submissionPart,r=e.update,s=e.blockSubmit,o=e.disabled,c=e.isPartReceivingInlineFeedback,u=e.submissionSchemaPart,l=e.versionedAssignmentId;switch(i.typeName){case"plainText":return a.a.createElement(Bn,{submissionPart:i,ariaLabelledBy:this.promptId,id:this.inputId,update:r,disabled:o});case"richText":return a.a.createElement(Ti,{submissionPart:i,update:this.updatePart,disabled:o,itemId:n,courseId:t,submissionSchemaPart:u,ariaLabelledBy:this.promptId,versionedAssignmentId:l});case"url":return a.a.createElement(Ni,{submissionPart:i,id:this.inputId,update:this.updatePart,disabled:o,ariaLabelledBy:this.promptId});case"fileUpload":return a.a.createElement(Ln.a,{id:this.inputId,submissionPart:i,update:this.updatePart,blockSubmit:s,disabled:o,isPartReceivingInlineFeedback:c});case"offPlatform":return xi||(xi=a.a.createElement(Un.a,null));default:return!1}},t.render=function render(){var e,t,n=this.props,i=n.submissionSchemaPart,r=n.errorTree,s=n.showValidation,o=n.renderInlineNode,c=n.partId,u=n.itemId,l=n.courseId,d=n.versionedAssignmentId,m=n.creatorId,p=n.submissionPart,h=i.id,f=this.state.hasUnsavedChanges,g=!(null===(e=i.plagiarismConfig)||void 0===e||!e.plagiarismCheckEnable),b=!!p.definition.fileUrl||!(null===(t=p.definition.richText)||void 0===t||!t.definition);return a.a.createElement("div",{className:"rc-SubmissionPartEditView",id:h},a.a.createElement("div",{className:"c-peer-review-submit-prompt"},a.a.createElement("div",null,a.a.createElement(ji.a,{content:i.prompt,assumeStringIsHtml:!0,contentId:this.promptId,display:"inline-block"})),o&&o(c)),Object(pt.d)(l)&&a.a.createElement("div",{className:"deterrence-notification"},a.a.createElement(Vn,{partId:this.props.partId})),Object(pt.a)(l)&&a.a.createElement("div",{className:"deterrence-notification"},a.a.createElement(An,{partId:this.props.partId})),Object(pt.c)(l)&&a.a.createElement("div",{className:"deterrence-notification"},a.a.createElement(xn,{partId:this.props.partId})),this.renderEditor(),s&&r&&a.a.createElement(hn.a,{errorTree:r}),g&&a.a.createElement(_n.b,{courseId:l,itemId:u,authorId:m,assignmentType:_n.a.PEER,responseId:Object(fn.c)([d||"",h]),hasContent:b,hasUnsavedChanges:f,role:Dn.a.LEARNER}))},SubmissionPartEditView}(a.a.Component),Mi=t("y5nr"),Vi,Li,Ui,Hi,Bi=function(e){function AssignmentSubmitEditView(t){var n;return(n=e.call(this,t)||this).handleTitleChange=function(e){var t=n.props.updateSubmissionTitle;e.target instanceof HTMLInputElement&&(n.setState({inputValue:e.target.value}),t(e.target.value))},n.handleInputWithErrorFocus=function(){var e,t,i=(n.props.submissionAppState||{}).showValidation,r=n.state,a=r.firstSubmissionSchemaPartWithError,s=r.titleHasError;if(i){var o=document.getElementById("input-".concat((a||{}).id));if(s)return void(n.titleInputRef&&n.titleInputRef.focus());a&&o&&o.focus()}},n.getFirstSubmissionSchemaPartWithError=function(){var e=n.props,t=e.submissionSchema,i=e.errorTree;return t.parts.find((function(e){var t=e.id;return(((i.children||{})[t]||{}).errors||[]).length>0}))},n.updateFirstValidationError=function(){var e=n.props,t=e.submissionAppState,i=e.errorTree,r=t.showValidation,a=null;if(r){var s=n.state,o=s.firstSubmissionSchemaPartWithError,c;s.titleHasError?a=i.errors&&i.errors.map((function(e){return e.errorMessage})).join(" "):o&&(a=(((i.children||{})[o.id]||{}).errors||[]).map((function(e){return e.errorMessage})).join(" "))}n.handleInputWithErrorFocus(),setTimeout((function(){n.setState({firstValidationError:a})}),1500)},n.state={firstValidationError:null,titleHasError:!1,firstSubmissionSchemaPartWithError:null,inputValue:t.submission.title?t.submission.title:""},n}i()(AssignmentSubmitEditView,e);var t=AssignmentSubmitEditView.prototype;return t.componentDidUpdate=function componentDidUpdate(e){var t=this.props,n=t.submissionAppState,i=t.errorTree,r=n.showValidation;if(e.submissionAppState.showValidation!==r){var a=this.getFirstSubmissionSchemaPartWithError(),s;a&&(s=a),this.setState(y()({titleHasError:i.errors&&i.errors.length>0},{firstSubmissionSchemaPartWithError:s}),this.updateFirstValidationError)}},t.render=function render(){var e=this,t=this.props,n=t.courseId,i=t.submission,r=t.submissionSchema,s=t.errorTree,o=t.isSubmitted,c=t.submissionAppState,u=c.saveState,l=c.submitState,d=c.showValidation,m=t.renderInlineNode,p=t.updateSubmissionPartGenerator,h=t.blockSubmitPartGenerator,f=t.itemId,g=t.versionedAssignmentId,b=t.creatorId,v=t.draftHasLocalChanges,S=this.state,I=S.firstValidationError,y=S.inputValue,C="saving"===u||"submitting"===l||o,w=Kn()("Project Title"),P=Object(pt.c)(n)||Object(pt.a)(n);return a.a.createElement(ln.a,null,a.a.createElement("div",{className:"rc-AssignmentSubmitEditView"},Object(pt.d)(n)&&(Vi||(Vi=a.a.createElement("div",{className:"simtext-submission-result"},a.a.createElement(pn,null)))),P&&(Li||(Li=a.a.createElement("div",{className:"simtext-submission-result"},a.a.createElement(un,null)))),a.a.createElement("div",{className:"project-title",id:"titleLabel"},w),a.a.createElement("input",{className:"c-peer-review-submit-text-field bt3-form-control",type:"text","aria-label":w,defaultValue:i.title,placeholder:y.length?"":Kn()("Give your project a descriptive title"),onChange:this.handleTitleChange,"aria-required":!0,disabled:C,id:"title",ref:function ref(t){e.titleInputRef=t}}),d&&a.a.createElement(hn.a,{errorTree:s}),a.a.createElement("div",{className:"parts"},r.parts.map((function(e){var t=null;return t=i.parts&&i.parts[e.id]?i.parts[e.id]:i.invalidParts[e.id],a.a.createElement(Di,{courseId:n,key:e.id,partId:e.id,submissionSchemaPart:e,submissionPart:t,update:p(e.id),blockSubmit:h(e.id),disabled:C,errorTree:s&&s.children[e.id],showValidation:d,renderInlineNode:m,itemId:f,versionedAssignmentId:g,creatorId:b,draftHasLocalChanges:v})}))),Ui||(Ui=a.a.createElement("div",{className:"plagiarism-detection"},a.a.createElement(sn.a,null),a.a.createElement("div",{className:"plagiarism-detection-summary"},a.a.createElement(dn.a,null)))),a.a.createElement("div",{className:"sr-only","aria-live":"polite",role:"region"},d&&I)))},AssignmentSubmitEditView}(a.a.Component),qi=t("xPfO"),Gi=t("OIFE"),Fi=t("hbUA"),Wi=t("IG+7"),zi=t("5ijc"),$i=t("Zr0k"),Qi=t("xmcF"),Yi=t("ZSJn"),Ki=t("tVsT"),Ji,Xi=function(e){function AlicePeerReviewSaveEvent(t){var n,i=t.courseBranchId,r=t.itemId;return(n=e.call(this,{type:Ki.g,courseBranchId:i})||this).itemId=r,n.id="".concat(Ki.g,"~").concat(i,"~").concat(r),n}return i()(AlicePeerReviewSaveEvent,e),AlicePeerReviewSaveEvent}(Yi.a),Zi,er=function(e){function AlicePeerReviewSubmitEvent(t){var n,i=t.courseBranchId,r=t.itemId;return(n=e.call(this,{type:Ki.h,courseBranchId:i})||this).itemId=r,n.id="".concat(Ki.h,"~").concat(i,"~").concat(r),n}return i()(AlicePeerReviewSubmitEvent,e),AlicePeerReviewSubmitEvent}(Yi.a),tr=Object(Qi.a)((function(e){var t=e.itemId,n=e.courseBranchId,i=e.courseId,r=e.hasSaved,a=e.hasSubmitted;if(r)return new Xi({courseBranchId:n,itemId:t});if(a)return new er({courseBranchId:n,itemId:t});return null}),(function(e){var t;return{course_id:e.courseId}}))((function(){return null})),nr=t("MnCE"),ir=t("kgYC"),rr=t("37kS"),ar=t.n(rr),sr=t("06Ht"),or=function(e){function AssignmentUpgradeChanges(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).renderChange=function(e,n){if("AddsPart"===e.typeName)return t.renderChangeItem(n,"cif-plus-square",ar()("Added question."),a.a.createElement("tr",{className:"bt3-success"},a.a.createElement("th",null,ar()("Added")),a.a.createElement("td",{className:"change-contents"},a.a.createElement("div",null,a.a.createElement(ji.a,{assumeStringIsHtml:!0,content:e.definition.prompt})))));if("RemovesPart"===e.typeName)return t.renderChangeItem(n,"cif-minus-square",ar()("Removed question."),a.a.createElement("tr",{className:"bt3-danger"},a.a.createElement("th",null,ar()("Removed")),a.a.createElement("td",{className:"change-contents"},a.a.createElement("div",null,a.a.createElement(ji.a,{assumeStringIsHtml:!0,content:e.definition.prompt})))));if("ChangesPart"===e.typeName){var i=e.definition.changes,r=i.find((function(e){return"ChangesPrompt"===e.typeName})),s=i.filter((function(e){return"ChangesPrompt"!==e.typeName}));return t.renderChangeItem(n,"cif-square",ar()("Changed question."),[a.a.createElement("tr",{className:Xt()({"bt3-danger":!!r}),key:"changedQuestionPrompt"},a.a.createElement("th",null,ar()("Original")),a.a.createElement("td",{className:"change-contents"},a.a.createElement("div",null,a.a.createElement(ji.a,{assumeStringIsHtml:!0,content:e.definition.prompt})))),r&&t.renderPartChange(r,"promptChange"),s.map(t.renderPartChange),0===i.length&&ar()("Unknown change.")])}return null},t.renderPartChange=function(e,t){var n="ChangesPrompt"===e.typeName?ar()("New"):"",i=!1;return"ChangesPrompt"===e.typeName?i=a.a.createElement("div",{key:t},a.a.createElement(ji.a,{assumeStringIsHtml:!0,content:e.definition.newPrompt})):"ChangesPoints"===e.typeName?i=ar()("The new version of this question has different point values."):"ChangesOptions"===e.typeName?i=ar()("The new version of this multiple choice question has different options."):"ChangesValidationRules"===e.typeName&&(i=ar()("The new version of this question allows a different set of responses.")),a.a.createElement("tr",{className:"ChangesPrompt"===e.typeName?"bt3-success":"bt3-warning",key:t},a.a.createElement("th",null,n),a.a.createElement("td",{className:"change-contents"},i))},t}i()(AssignmentUpgradeChanges,e);var t=AssignmentUpgradeChanges.prototype;return t.excludeNoChangeChanges=function excludeNoChangeChanges(e){return e.filter((function(e){return"NoChange"!==e.typeName}))},t.renderChangeGroup=function renderChangeGroup(e,t){var n=this.excludeNoChangeChanges(e);return 0!==n.length&&a.a.createElement("div",null,a.a.createElement("h2",null,t),a.a.createElement("ul",{className:"cif-list-ul"},n.map(this.renderChange)))},t.renderChangeItem=function renderChangeItem(e,t,n,i){return a.a.createElement("li",{className:"change-item",key:e},a.a.createElement("i",{className:t}),a.a.createElement("span",{className:"type-of-change"},n),a.a.createElement("div",{className:"change-table-container"},a.a.createElement("table",{className:"bt3-table"},a.a.createElement("tbody",null,i))))},t.render=function render(){return a.a.createElement("div",{className:"rc-AssignmentUpgradeChanges"},this.renderChangeGroup(this.props.upgradeToCurrentAssignment.submissionSchemaChanges,ar()("Assignment question changes")),this.renderChangeGroup(this.props.upgradeToCurrentAssignment.reviewSchemaChanges,ar()("Review question changes")))},AssignmentUpgradeChanges}(a.a.Component);or.propTypes={upgradeToCurrentAssignment:h.a.object.isRequired};var cr=or,ur=t("+2ZD"),lr,dr=function AssignmentUpgradeModal(e){var t=e.onClickUpgrade,n=e.modalOpen,i=e.onModalClose,r=e.upgradeToCurrentAssignment,s=!1,o=!1;if(!n)return null;return null!=r&&("NotifiesUser"===r.severity?(s=ar()("Upgrade assignment"),o=a.a.createElement("p",null,ar()('\n            The assignment changed since you started working on it. Click\n            "Upgrade assignment" to get the new assignment. Please read the\n            new assignment carefully and update your submission to follow\n            the new instructions.\n          '))):"ClearsSubmission"===r.severity&&(s=ar()("Delete draft and upgrade assignment"),o=a.a.createElement("p",null,ar()("\n            The assignment changed since you started working on it. We need\n            to delete your draft to give you the new assignment.\n          ")," ",a.a.createElement("strong",null,ar()("\n              Please save a copy of your submission outside Coursera before\n              continuing.\n            "))," ",ar()('\n            Click "Delete draft and upgrade assignment" to get the new\n            assignment. If you’d like to not update your assignment, you can click “Cancel” and submit your answers on the old version.\n          ')))),a.a.createElement(ur.a,{handleClose:i,modalName:ar()("New assignment version")},a.a.createElement("div",{className:"rc-AssignmentUpgradeNotification assignment-upgrade-explanation"},a.a.createElement("h3",null,ar()("New assignment version")),o,null!=r&&a.a.createElement(cr,{upgradeToCurrentAssignment:r}),a.a.createElement("div",{className:"c-modal-action-bar"},a.a.createElement("button",{type:"button",className:"bt3-btn c-modal-action-button",onClick:i},ar()("Cancel")),a.a.createElement("button",{type:"button",className:"bt3-btn bt3-btn-success c-modal-action-button",onClick:t},s))))},mr,pr=function AssignmentUpgradeNotification(e){var t=e.upgradeToCurrentAssignment,n=e.onRequestUpgrade,i=e.showStaleAssignmentVersionError,s=Object(ir.a)(),o=Object(r.useState)(!1),c=Me()(o,2),u=c[0],l=c[1],d=Xt()({"bt3-alert":!0,"bt3-alert-info":!i,"bt3-alert-danger":i});if(!t||"AutomaticallyUpgrades"===t.severity)return null;return(a.a.createElement("div",{className:"rc-AssignmentUpgradeNotification"},a.a.createElement("div",{style:{background:s.palette.blue[100],border:"none",color:s.palette.black[500]},className:d},ar()("A new version of this assignment exists.")," ",a.a.createElement("button",{type:"button",style:{color:s.palette.blue[600]},className:"button-link",onClick:function onClick(){return l(!0)}},ar()("Click here to see the changes and get the new version."))),u&&a.a.createElement(dr,{upgradeToCurrentAssignment:t,modalOpen:u,onModalClose:function onModalClose(){return l(!1)},onClickUpgrade:function onClickUpgrade(){n(),l(!1)}})))},hr=function(e){function PeerItemUpgradeNotification(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).onRequestUpgrade=function(){var e=t.props,n=e.courseId,i=e.courseSlug,r=e.computedItem.id,a=e.submission,s=e.assignmentVersion,o=e.forceUpgradeToAssignmentVersion;t.context.executeAction($i.g,{itemId:r,submission:a,assignmentVersion:s,forceUpgradeToAssignmentVersion:o,courseId:n,courseSlug:i,userId:d.a.get().id})},t}var t;return i()(PeerItemUpgradeNotification,e),PeerItemUpgradeNotification.prototype.render=function render(){if(null==this.props.upgradeToCurrentAssignment)return null;return(a.a.createElement("div",{className:"rc-PeerItemUpgradeNotification"},a.a.createElement(pr,{onRequestUpgrade:this.onRequestUpgrade,upgradeToCurrentAssignment:this.props.upgradeToCurrentAssignment,showStaleAssignmentVersionError:this.props.showStaleAssignmentVersionError})))},PeerItemUpgradeNotification}(a.a.Component);hr.contextTypes={executeAction:h.a.func.isRequired};var fr=Object(nr.compose)(Object(c.a)(["PeerSubmissionDraftStore","CourseStore"],(function(e){var t=e.PeerSubmissionDraftStore,n=e.CourseStore,i,r=t.getState().latestSubmissionAndRelated,a=null,s=null,o=null;return null!=r&&(a=r.upgradeToCurrentAssignment,s=r.submissionSchema.assignmentVersion,o=r.upgradeToCurrentAssignment&&r.upgradeToCurrentAssignment.upgradeToVersion),{submission:r&&r.submission,upgradeToCurrentAssignment:a,assignmentVersion:s,forceUpgradeToAssignmentVersion:o,courseId:n.getCourseId(),courseSlug:n.getCourseSlug()}})))(hr),gr=t("aFpJ"),br=t("sldo"),vr=t("JJfJ"),Sr=t("AWZ4"),Ir=t("PB6g"),yr=t("q5zD"),Cr=t("rQpo"),wr=t("lrid"),Pr,Er,Ar=Object(ze.d)({type:"BUTTON"})(Sr.b),Rr=function(e){function AssignmentSubmitControls(){return e.apply(this,arguments)||this}var t;return i()(AssignmentSubmitControls,e),AssignmentSubmitControls.prototype.render=function render(){var e=Xt()("rc-AssignmentSubmitControls","horizontal-box","align-items-right","align-items-vertical-center"),t=this.props,n=t.computedItem,i=t.courseId,r=t.lastSaveTime,s=t.isSaving,o=t.isSubmitting,c=t.submitMessage,u=Object(Fi.m)(n),l=s?en()("Saving draft..."):en()("Submitting assignment...");return a.a.createElement("div",{className:e},a.a.createElement("div",{className:"save-state-display horizontal-box"},r&&r>0?a.a.createElement("div",{className:"color-secondary-text caption-text"},a.a.createElement(zn.b,{message:en()("Last saved on {lastSaveDate} at {lastSaveTime}"),lastSaveDate:Object(vr.v)(r,vr.c),lastSaveTime:Object(vr.v)(r,vr.r)})):a.a.createElement("div",{className:"color-secondary caption-text"},en()("This project has not been saved."))),a.a.createElement(Ir.b,{tagName:"span","aria-live":"polite"},s||o?l:null),u&&a.a.createElement(Cr.a,{courseId:i}),!u&&a.a.createElement("div",null,a.a.createElement(Ar,{type:"secondary",rootClassName:"save-draft","data-e2e":"save-draft",disabled:s||o,onClick:this.props.onSave,trackingName:"save",htmlAttributes:{"aria-label":en()("Save draft")}},a.a.createElement("span",{"aria-hidden":!0},s?Pr||(Pr=a.a.createElement(yr.a,{name:"spinner",className:"cif-spin"})):en()("Save draft"))),a.a.createElement(Ar,{type:"primary",rootClassName:"preview","data-e2e":"preview",onClick:this.props.onSubmit,disabled:s||o||this.props.isSubmitDisabled,trackingName:"submit",htmlAttributes:{"aria-label":c}},a.a.createElement("span",{"aria-hidden":!0},o?Er||(Er=a.a.createElement(yr.a,{name:"spinner",className:"cif-spin"})):c))))},AssignmentSubmitControls}(a.a.Component);Rr.defaultProps={submitMessage:en()("Submit for review"),isSubmitDisabled:!1};var Tr=Object(nr.compose)(Object(c.a)(["CourseStore"],(function(e){var t;return{courseId:e.CourseStore.getCourseId()}})))(Rr),Or={SUBMITTING:"submitting",SUBMIT_ERROR:"submitError",READY:"ready",SAVING:"saving",SAVE_ERROR:"saveError"},Nr=Or,jr=Or.SUBMITTING,kr=Or.SUBMIT_ERROR,xr=Or.READY,_r=Or.SAVING,Dr=Or.SAVE_ERROR,Mr=t("Q/np"),Vr=t("O+1n"),Lr=t("4uky"),Ur=t("6/Gu"),Hr=t("8xbv"),Br=t("iNi2"),qr=t("IDuc"),Gr=t("yOiu"),Fr=t.n(Gr),Wr,zr=function(e){function PurchaseCoursePromptButton(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showModal:!1},t.onClick=function(){return t.setState({showModal:!0})},t.onClose=function(){return t.setState({showModal:!1})},t}var t;return i()(PurchaseCoursePromptButton,e),PurchaseCoursePromptButton.prototype.render=function render(){var e=this.state.showModal,t=this.props,n=t.className,i=t.courseId,r=t.buttonText,s=t.buttonClassName;return a.a.createElement("div",{className:Xt()("rc-PurchaseCoursePromptButton",n)},a.a.createElement(qr.a,{className:Xt()("c-open-single-page-action-button",s||"primary"),onClick:this.onClick,trackingName:"upgrade"},r||Fr()("Upgrade to submit")),e&&a.a.createElement(Br.a,{courseId:i,onClose:this.onClose}))},PurchaseCoursePromptButton}(a.a.Component),$r,Qr,Yr={root:function root(e){return Object(Ue.c)({textAlign:"right",marginTop:e.spacing(24)})},saveStateDisplay:function saveStateDisplay(e){return Object(Ue.c)({marginRight:e.spacing(24),display:"inline-block"})},saveDraftButton:function saveDraftButton(e){return Object(Ue.c)({marginRight:e.spacing(16)})}},Kr=function PeerReviewAssignmentSubmitControls(e){var t=e.computedItem,n=e.courseId,i=e.lastSaveTime,a=e.isSaving,s=e.isSubmitting,o=e.onSave,c=e.onSubmit,u=e.submitMessage,l=void 0===u?en()("Submit"):u,d=e.isSubmitDisabled,m=void 0!==d&&d,p=Object(Fi.m)(t),h=a?en()("Saving draft..."):en()("Submitting assignment...");return Object(Ue.d)(Ur.a,{alignItems:"flex-end",justifyContent:"center",css:Yr.root},Object(Ue.d)(bn.a,{variant:"body2",color:"supportText",css:Yr.saveStateDisplay},i&&i>0?Object(Ue.d)(zn.b,{message:en()("Last saved on {lastSaveDate} at {lastSaveTime}"),lastSaveDate:Object(vr.v)(i,vr.c),lastSaveTime:Object(vr.v)(i,vr.r)}):en()("This project has not been saved.")),Object(Ue.d)(Ir.b,{tagName:"span","aria-live":"polite"},a||s?h:null),p&&Object(Ue.d)(zr,{courseId:n}),!p&&Object(Ue.d)(r.Fragment,null,Object(Ue.d)(ze.b,{variant:"secondary","data-e2e":"save-draft",disabled:a||s,onClick:o,trackingName:"save","aria-label":en()("Save draft"),css:Yr.saveDraftButton,size:"small"},Object(Ue.d)("span",{"aria-hidden":!0},a?$r||($r=Object(Ue.d)(Hr.a,{size:"small"})):en()("Save draft"))),Object(Ue.d)(ze.b,{variant:"primary","data-e2e":"preview",onClick:c,disabled:a||s||m,trackingName:"submit","aria-label":l,size:"small"},Object(Ue.d)("span",{"aria-hidden":!0},s?Qr||(Qr=Object(Ue.d)(Hr.a,{size:"small"})):l))))},Jr=Object(nr.compose)(Object(c.a)(["CourseStore"],(function(e){var t;return{courseId:e.CourseStore.getCourseId()}})))(Kr),Xr=t("Mllf"),Zr,ea=function PreviewModal(e){var t=e.handleClose;return Object(Ue.d)(Xr.a,{title:en()("Preview before submitting"),content:Object(Ue.d)(bn.a,{variant:"body1"},en()("Take a moment to preview your work before you submit it, to make sure the work is completely your own and to see how it will look to your peers when they review it.")),primaryButtonContents:en()("Preview"),hideCancelButton:!0,onPrimaryButtonClick:t,onCancelButtonClick:t})},ta=t("wd/R"),na=t.n(ta),ia=t("kWps"),ra,aa=function SubmitModal(e){var t=e.remainingAttempts,n=e.submissionDeadline,i=e.handleSubmit,r=e.handleCancel,a=t||0;return Object(Ue.d)(Xr.a,{title:en()("Ready to submit your assignment?"),content:Object(Ue.d)(bn.a,{variant:"body1"},Object(Ue.d)(zn.b,{message:a>0?en()("Your submission counts as an attempt. You'll have {attemptsLeftAfterSubmission, plural, =1 {# more attempt} other {# more attempts available}}{deadline}."):en()("This is your last attempt. You'll have no more attempts after you submit."),attemptsLeftAfterSubmission:Math.max(a,0),deadline:n?en()(" until the deadline on #{formattedDeadline}",{formattedDeadline:ia.a.getFormattedDeadline(na()(n))}):""})),primaryButtonContents:en()("Submit"),hideCancelButton:!1,onPrimaryButtonClick:i,onCancelButtonClick:r})},sa=function(e){function PeerItemVerificationSubmission(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={isSubmitting:!1,isAgreementComplete:!1,confirmedPreview:!1,showPreviewModal:!1,fullName:"",hasError:!1,showHonorCodeModal:!1,showSubmitModal:!1},t.handleSubmissionClicked=function(){var e=t.props.computedItem.courseId,n;Object(pt.a)(e)||Object(pt.c)(e)||Object(pt.d)(e)||Object(pt.e)()?t.setState({showHonorCodeModal:!0}):t.handleSubmitConfirmation()},t.handleSubmitModalClose=function(){t.setState({showSubmitModal:!1})},t.handleHonorCodeRejected=function(){t.setState({showHonorCodeModal:!1,confirmedPreview:!1}),t.props.clearSimtextResult(),t.props.handleHonorCodeRejected()},t.handleHonorCodeAccepted=function(){t.setState({showHonorCodeModal:!1}),t.handleSubmitConfirmation()},t.handleSubmit=function(){if(t.setState({showSubmitModal:!1}),!t.props.isVerifiable)return void t.props.handleSubmit();t.setState({isSubmitting:!0,hasError:!1});var e=null;Object(Vr.a)().then((function(n){return e=n,Object(Vr.b)(e,t.state.fullName)})).then((function(){null!=e&&t.props.handleSubmit(e)})).catch((function(){return t.setState({isSubmitting:!1,hasError:!0})})).done()},t.handleSubmitConfirmation=function(){var e=t.props,n=e.latestAttemptSummary,i;e.isPeerReviewAttemptsLimitsEpicEnabled&&n&&(null==n?void 0:n.remainingAttempts)>=0?t.setState({showSubmitModal:!0}):t.handleSubmit()},t.handleClickPreview=function(){t.setState({showPreviewModal:!0,confirmedPreview:!1})},t.handlePreviewModalClose=function(){t.props.handleSave(!0),t.setState({showPreviewModal:!1,confirmedPreview:!0}),v()("html, body").animate({scrollTop:0},"slow")},t.onAgreementComplete=function(e){t.setState({isAgreementComplete:!0,fullName:e})},t.onAgreementIncomplete=function(){t.setState({isAgreementComplete:!1})},t}i()(PeerItemVerificationSubmission,e);var t=PeerItemVerificationSubmission.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props.submissionAppState.submitState===jr,n=e.submissionAppState.submitState===jr;e.draftHasLocalChanges&&!this.props.draftHasLocalChanges&&this.setState({confirmedPreview:!1}),t&&!n?this.setState({isSubmitting:!1}):!t&&n&&this.setState({isSubmitting:!0})},t.render=function render(){var e,t=this.props,n=t.submissionAppState,i=t.lastSaveTime,s=t.handleSave,o=t.isVerifiable,c=t.computedItem,u=t.blockSubmit,l=t.capabilitiesWithReasons,m=t.assignmentId,p=t.getHasPlagiarismInAllParts,h=t.latestAttemptSummary,f=t.submissionDeadline,g=t.isPeerReviewAttemptsLimitsEpicEnabled,b=t.getShouldDeterLearnerFromSubmitting,v=this.state,S=v.isAgreementComplete,I=v.isSubmitting,y=v.hasError,C=v.showHonorCodeModal,w=null==l?void 0:null===(e=l.anonymousPeerReview)||void 0===e?void 0:e.isAllowed,P=Object(pt.a)(c.courseId)||Object(pt.c)(c.courseId),E=(P||Object(pt.d)(c.courseId)||Object(pt.e)())&&C,A=Object(pt.d)(c.courseId)&&p()||P&&b(),R=en()("Preview"),T=this.handleClickPreview;this.state.confirmedPreview&&!A&&(R=en()("Submit"),T=this.handleSubmissionClicked);var O=g?Jr:Tr;return(a.a.createElement("div",{className:"rc-PeerItemVerificationSubmission",style:{marginTop:30}},o&&a.a.createElement(gr.a,{onAgreementComplete:this.onAgreementComplete,onAgreementIncomplete:this.onAgreementIncomplete,isShownInsideModal:!1}),E&&a.a.createElement(br.a,{"data-test":"HonorCodeModalV2",onAccept:this.handleHonorCodeAccepted,onClose:this.handleHonorCodeRejected,courseId:c.courseId,trackingData:{user_id:d.a.get().id,course_id:c.courseId,peer_assignment_id:m}}),w&&a.a.createElement(Lr.a,null,en()("Your submission will be anonymous to fellow learners and your name will be visible to course instructors.")),a.a.createElement(O,{lastSaveTime:i,isSaving:n.saveState===_r,isSubmitting:I,onSave:function onSave(){return s()},onSubmit:T,submitMessage:R,isSubmitDisabled:o&&!S||u,computedItem:c}),y&&a.a.createElement("div",{className:"align-right caption-text",style:{marginTop:12}},en()("An error has occurred while submitting. Please try again.")),!g&&this.state.showPreviewModal&&a.a.createElement(ur.a,{className:"rc-SubmissionPreviewModal",handleClose:this.handlePreviewModalClose,modalName:en()("Ready to Submit?")},a.a.createElement("h3",{className:"headline-4-text title"},en()("Preview before submitting")),a.a.createElement("div",null,en()("Take a moment to preview your work before you submit it, to make sure the work is\n                completely your own and to see how it will look to your peers when they review it.")),a.a.createElement("div",{className:"horizontal-box align-items-right"},a.a.createElement("button",{type:"button",className:"primary",onClick:this.handlePreviewModalClose},en()("Preview")))),g&&a.a.createElement(r.Fragment,null,this.state.showPreviewModal&&a.a.createElement(ea,{handleClose:this.handlePreviewModalClose}),this.state.showSubmitModal&&a.a.createElement(aa,{remainingAttempts:null==h?void 0:h.remainingAttempts,submissionDeadline:f,handleSubmit:this.handleSubmit,handleCancel:this.handleSubmitModalClose}))))},PeerItemVerificationSubmission}(a.a.Component),oa=function PeerItemVerificationSubmissionContainer(e){var t=Ot(),n=t.setScoreResults,i=t.getHasPlagiarismInAllParts,r,s=Ct().getShouldDeterLearnerFromSubmitting,o=function clearSimtextResult(){n(void 0)};return a.a.createElement(sa,_e()({},e,{clearSimtextResult:o,getHasPlagiarismInAllParts:i,getShouldDeterLearnerFromSubmitting:s}))},ca=Object(nr.compose)(Object(c.a)(["CourseStore"],(function(e){var t,n=e.CourseStore.getPartnerId();return{isPeerReviewAttemptsLimitsEpicEnabled:!!n&&Object(Mr.a)(n)}})))(oa),ua=t("1xaR"),la=t("5s+m"),da,ma=function(e){function GradingCriteriaPreviewModal(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showModal:!1},t.onClickModalOpen=function(e){e.preventDefault(),t.setState({showModal:!0})},t.onClickModalClose=function(){t.setState({showModal:!1})},t}var t;return i()(GradingCriteriaPreviewModal,e),GradingCriteriaPreviewModal.prototype.render=function render(){if(0===this.props.criteria.length)return null;return(a.a.createElement("div",{className:"rc-GradingCriteriaPreviewModal"},a.a.createElement("div",{className:"grading-criteria-preview-controls"},a.a.createElement("button",{type:"button",onClick:this.onClickModalOpen,className:"button-link"},ar()("Preview grading criteria"))),this.state.showModal&&a.a.createElement(ur.a,{handleClose:this.onClickModalClose,modalName:ar()("Preview grading criteria")},a.a.createElement("h1",null,ar()("Preview grading criteria")),this.props.privilegedRoleViewReviewSchema&&a.a.createElement("div",{className:"criteria-warning color-warn-dark"},ar()("You can preview the grading criteria because you have a privileged role in this course. Normal\n                  learners cannot see the grading criteria until they submit a submission.")),this.props.criteria.map((function(e){return a.a.createElement("div",{className:"criterion card-no-action compact",key:e.get("id")},a.a.createElement(ji.a,{content:e.get("prompt"),assumeStringIsHtml:!1}))})))))},GradingCriteriaPreviewModal}(a.a.Component),pa=o.a.compose(Object(c.a)(["PeerPermissionsAndProgressesStore"],(function(e,t){var n=e.PeerPermissionsAndProgressesStore;return{hasLoaded:"loaded"===n.getState().loadState,capabilitiesWithReasons:n.getState().capabilitiesWithReasons}})),Object(m.a)((function(e){return e.hasLoaded})),Object(Ge.a)((function(e){var t,n=!1,i=null===(t=e.capabilitiesWithReasons)||void 0===t?void 0:t.viewReviewSchema,r;return i&&(n=i.isAllowed&&"privilegedRole"===i.reason),{criteria:Object(ua.a)(e.reviewSchema).getPartsForSubmissionSchemaPart(e.partId),privilegedRoleViewReviewSchema:n}})))(ma),ha=t("rYOX"),fa=t("grTl"),ga=t("JrTX"),ba=t("jSbv"),va,Sa,Ia={notification:function notification(e){return Object(Ue.c)({paddingTop:e.spacing(24),paddingBottom:e.spacing(24)})}},ya=3e3,Ca=function(e){function PeerItemEditView(t,n){var i;return(i=e.call(this,t,n)||this).handleSubmit=function(e){var t=i.props,n=t.computedItem,r=t.latestSubmissionAndRelated,a=t.courseId,s=t.courseSlug;i.context.executeAction($i.f,{itemId:n.id,submission:r.submission,assignmentVersion:r.submissionSchema.assignmentVersion,verifiableId:e,courseId:a,courseSlug:s,userId:d.a.get().id})},i.getSimtextStatus=function(e){var t,n=i.props,r=n.getSimilarityScores,a=n.courseId,s=n.eventData,o,c=n.latestSubmissionAndRelated.submission.versionedAssignmentId,u=null!==(t=null==c?void 0:c.split("@"))&&void 0!==t?t:[],l,m=Me()(u,1)[0];r(e).then((function(e){var t=jt(e);Object(pt.d)(a)&&t&&i.scrollToTop();var n={user_id:d.a.get().id,course_id:a,peer_assignment_id:m};kt(e)&&He.a.trackComponent(s,n,"simtext_active_deterrence","deterrence"),e.forEach((function(e){var t=e.partId,i=y()(y()({},n),{},{peer_assignment_submission_schema_part_id:t});He.a.trackComponent(s,i,"simtext_deterrence","deterrence")}))}))},i.getIntegrityStatus=function(){var e=i.props,t=e.courseId,n,r=createIntegrityQuery(e.latestSubmissionAndRelated),a=bt(t);i.setState({integrityStatusVariables:{orderedChecks:a,submission:r}})},i.handleIntegrityStatusFetched=function(e){var t=i.props,n=t.integrityContext,r=t.courseId,a=t.eventData,s=t.latestSubmissionAndRelated;It({courseId:r,eventData:a,integrityContext:n,latestSubmissionAndRelated:s,scrollToTop:i.scrollToTop,integrityStatus:e})},i.scrollToTop=function(){var e=document.querySelector('[data-id="item-scroll-container"]'),t;e&&(null===(t=e.scroll)||void 0===t||t.call(e,{top:0,behavior:"smooth"}))},i.handleSave=function(e){var t=i.props,n=t.computedItem,r=t.latestSubmissionAndRelated,a=t.courseId,s=t.isNewDraft,o=t.partnerId;i.autoSaveDraft.cancel(),i.setState({hasSaved:!0,isPreviewing:!!e}),i.context.executeAction($i.d,{courseId:a,isNewDraft:s,userId:d.a.get().id,itemId:n.id,submission:r.submission,assignmentVersion:r.submissionSchema.assignmentVersion,partnerId:o})},i.handleAutoSave=function(){var e=i.props,t=e.computedItem,n=e.latestSubmissionAndRelated,r=e.courseId,a=e.isNewDraft,s=e.partnerId;i.setState({hasSaved:!0,isPreviewing:!1}),i.context.executeAction($i.a,{courseId:r,isNewDraft:a,userId:d.a.get().id,itemId:t.id,submission:n.submission,assignmentVersion:n.submissionSchema.assignmentVersion,partnerId:s})},i.updateSubmissionPartGenerator=function(e){return function(t){var n=i.props.latestSubmissionAndRelated,r=v.a.extend(!0,{},n.submission);r.definition.parts[e]=t,i.context.executeAction($i.b,{submission:r}),i.autoSaveDraft()}},i.autoSaveDraft=Le()(i.handleAutoSave,Gi.a.get("CAAutoSaveWaitTimeInMS")||ya),i.blockSubmitPartGenerator=function(e){return function(t){var n=i.state.blockSubmitParts,r=Object.assign({},n);r[e]=t,i.setState({blockSubmitParts:r})}},i.handleHonorCodeRejected=function(){i.setState({honorCodeRejected:!0}),Object(pt.e)()&&i.scrollToTop()},i.updateSubmissionTitle=function(e){var t=i.props.latestSubmissionAndRelated,n=v.a.extend(!0,{},t.submission);n.definition.title=e,i.context.executeAction($i.b,{submission:n})},i.renderPreviewGradingCriteria=function(e){var t=i.props.latestSubmissionAndRelated;return Object(Ue.d)(pa,{reviewSchema:t.reviewSchema,partId:e})},i.state={hasSaved:!1,isPreviewing:!1,blockSubmitParts:{},honorCodeRejected:!1},i}i()(PeerItemEditView,e);var t=PeerItemEditView.prototype;return t.componentDidUpdate=function componentDidUpdate(e){var t=this.props,n=t.submissionAppState,i=t.errorTree.children,r=t.latestSubmissionAndRelated,a=t.courseId,s=t.draftHasLocalChanges,o=t.clearSimtextResult,c=t.integrityContext,u=this.state.isPreviewing;if(Object(pt.d)(a)||Object(pt.a)(a)||Object(pt.c)(a)){var l=Object.values(i).some((function(e){var t;return(null===(t=e.errors)||void 0===t?void 0:t.length)>=1})),d="saving"===e.submissionAppState.saveState,m="ready"===n.saveState;if(d&&m&&!l&&u){this.setState({isPreviewing:!1});var p=createSimilarityQuery(r);p.parts.length>0&&(Object(pt.d)(a)&&this.getSimtextStatus(p),(Object(pt.a)(a)||Object(pt.c)(a))&&this.getIntegrityStatus())}s&&!e.draftHasLocalChanges&&o()}},t.render=function render(){var e,t=this.props,n=t.naptimeSubmission,i=t.naptimeSubmissionSchema,r=t.errorTree,a=t.computedItem,s=t.submissionAppState,c=t.isVerifiable,u=t.lastSaveTime,l=t.showStaleAssignmentVersionError,d=t.courseId,m=t.courseBranchId,p=t.latestSubmissionAndRelated,h=t.draftHasLocalChanges,f=t.capabilitiesWithReasons,g=t.isDegreeLearner,b=t.latestAttemptSummary,v=t.submissionDeadline,S=a.id,I=this.state,y=I.hasSaved,C=I.honorCodeRejected,w=I.integrityStatusVariables,P=o.a.contains(o.a.values(this.state.blockSubmitParts),!0),E=p.submission,A=E.versionedAssignmentId,R=E.creatorId,T=null!==(e=null==A?void 0:A.split("@"))&&void 0!==e?e:[],O,N=Me()(T,1)[0],j=!(g||u||a.isSubmitted||a.isStarted);return Object(Ue.d)("div",{className:"rc-PeerItemEditView"},Object(Ue.d)(tr,{itemId:S,courseBranchId:m,courseId:d,hasSaved:y}),Object(pt.e)()&&j&&Object(Ue.d)("div",{css:Ia.notification},va||(va=Object(Ue.d)(Xe,null))),Object(pt.e)()&&C&&Object(Ue.d)("div",{css:Ia.notification},Sa||(Sa=Object(Ue.d)(et,null))),Object(Ue.d)(ut,{queryData:w,onDataLoaded:this.handleIntegrityStatusFetched},Object(Ue.d)(an,{submissionAppState:s,errorTree:r,isSubmitted:!1},Object(Ue.d)(fr,{showStaleAssignmentVersionError:l,computedItem:a}),Object(Ue.d)(Bi,{courseId:d,submission:n,submissionSchema:i,errorTree:r,isSubmitted:!1,submissionAppState:s,updateSubmissionTitle:this.updateSubmissionTitle,updateSubmissionPartGenerator:this.updateSubmissionPartGenerator,blockSubmitPartGenerator:this.blockSubmitPartGenerator,renderInlineNode:this.renderPreviewGradingCriteria,itemId:S,versionedAssignmentId:A,creatorId:R,draftHasLocalChanges:h}),Object(Ue.d)(ca,{submissionAppState:s,lastSaveTime:u,handleSave:this.handleSave,handleSubmit:this.handleSubmit,handleHonorCodeRejected:this.handleHonorCodeRejected,blockSubmit:P,isVerifiable:c,computedItem:a,capabilitiesWithReasons:f,draftHasLocalChanges:h,assignmentId:N,latestAttemptSummary:b,submissionDeadline:v}))))},PeerItemEditView}(a.a.Component);Ca.contextTypes={executeAction:h.a.func.isRequired};var wa=function PeerItemEditViewComponent(e,t){return Object(Ue.d)(Ut,null,(function(n){var i=n.getSimilarityScores,r=n.clearSimtextResult,a=n.integrityContext;return Object(Ue.d)(Ca,_e()({},e,{getSimilarityScores:i,clearSimtextResult:r,eventData:t._eventData,integrityContext:a}))}))};wa.contextTypes={_eventData:h.a.object};var Pa=o.a.compose(Object(Be.a)((function(e){return{showStaleAssignmentVersionError:!!e.location.query.showStaleAssignmentVersionError}})),Object(qe.a)([ba.a,ga.a,zi.a,Wi.a,qi.a,fa.a,ha.a],(function(e,t,n,i,r,a,s,o){var c,u,l,d=o.computedItem,m=s.getState().displayablePhaseSchedule,p=a.getState();return{latestSubmissionAndRelated:e.getState().latestSubmissionAndRelated,naptimeSubmission:e.getState().naptimeSubmission,naptimeSubmissionSchema:e.getState().naptimeSubmissionSchema,draftHasLocalChanges:e.getState().hasLocalChanges,submissionAppState:t.getState(),isVerifiable:n.isProductVerificationEnabled()&&d&&Object(Fi.i)(d),courseId:i.getCourseId(),courseSlug:i.getCourseSlug(),courseBranchId:r.getBranchId()||i.getCourseId(),capabilitiesWithReasons:p.capabilitiesWithReasons,submissionDeadline:null==m?void 0:null===(c=m.phaseEnds)||void 0===c?void 0:c.submit,latestAttemptSummary:null===(u=p.submissionProgress)||void 0===u?void 0:u.latestAttemptSummary,isNewDraft:!(null!==(l=p.submissionProgress)&&void 0!==l&&l.latestDraftSummary),partnerId:i.getPartnerId()}})),Object(m.a)((function(e){var t;return e.latestSubmissionAndRelated}),Object(Ue.d)(je.a,{className:"rc-PeerItemEditView"})),Object(Ge.a)((function(e){return y()(y()({},e),{},{errorTree:e.latestSubmissionAndRelated.errorTree,lastSaveTime:e.latestSubmissionAndRelated.submission&&e.latestSubmissionAndRelated.submission.createdAt})})))(wa),Ea=t("6xos"),Aa,Ra=function PeerAnonymousReviewNotification(e){var t=e.reviews,n=t.reviews.reduce((function(e,t){return t.isAnonymous?e+1:e}),0);if(0===n)return null;if(n===t.reviews.length)return a.a.createElement(Lr.a,null,en()("Your fellow learners have submitted their reviews anonymously. All names are still visible to course instructors."));return(a.a.createElement(Lr.a,null,en()("Some of your fellow learners have submitted their reviews anonymously. All names are still visible to course instructors.")))},Ta=t("qPyB"),Oa=t("7Diq"),Na=t("J2aD"),ja=t("yMmU"),ka=t("eQF6"),xa=t("C2np"),_a=t("o5Sl"),Da=t("j/mg"),Ma=t("TSlG"),Va=function(e){function PeerSubmissionWithReviewBody(){return e.apply(this,arguments)||this}i()(PeerSubmissionWithReviewBody,e);var t=PeerSubmissionWithReviewBody.prototype;return t.shouldShowReviews=function shouldShowReviews(e){var t=this.props,n=t.reviewProgress,i=t.reviewSchema,r=t.reviews,a=t.computedItem,s=a.isGraded,c;if(0===(null!=i?o()(i.definition.parts).filter((function(t){return t.submissionSchemaPartId===e})):[]).length||s&&!Object(Fi.z)(a))return!1;return!!r&&r.length>0&&(!n||n&&n.isComplete)},t.render=function render(){var e=this,t=this.props,n=t.courseId,i=t.computedItem,r=t.submission,s=t.submissionId,o=t.submissionSchema,c=t.reviewSchema,u=t.reviewsSummary,l=t.reviews,d=t.isResubmissionDisabled,m=t.isPeerReviewAttemptsLimitsEpicEnabled,p=Object(ua.a)(c);return a.a.createElement("div",{className:"rc-PeerSubmissionWithReviewsBody"},!(!o||!r)&&o.parts.map((function(t){return a.a.createElement(ka.a,{key:t.id},a.a.createElement(Na.a,{submissionSchemaPart:t,submissionPart:r.parts[t.id]}),e.shouldShowReviews(t.id)&&a.a.createElement(ja.a,null,a.a.createElement(Oa.a,{reviewSchema:p,reviewsSummary:u,reviews:l,submissionSchemaPartId:t.id,submissionId:s})))})),this.shouldShowReviews()&&a.a.createElement(ka.a,null,a.a.createElement(ja.a,null,a.a.createElement(Oa.a,{reviewSchema:p,reviewsSummary:u,reviews:l,submissionSchemaPartId:null,submissionId:s}))),!!s&&!d&&!m&&a.a.createElement(Da.a,{computedItem:i,submissionId:s,className:"align-right",buttonMessage:en()("Edit submission")}),!!s&&!d&&m&&a.a.createElement(Ur.a,{container:!0,justifyContent:"flex-end"},a.a.createElement(_a.a,{computedItem:i,buttonMessage:en()("Start new attempt")})),null!=s&&a.a.createElement(xa.a,{computedItem:i,courseId:n,submissionId:s}))},PeerSubmissionWithReviewBody}(a.a.Component),La=Object(nr.compose)(Object(c.a)(["PeerViewSubmissionStore","PeerPermissionsAndProgressesStore","CourseStore"],(function(e){var t=e.PeerViewSubmissionStore,n=e.PeerPermissionsAndProgressesStore,i=e.CourseStore,r=t.getState().submissionAndRelated,a,s=t.getState().reviewSubmissionState,o="loaded"===t.getState().loadState,c;o&&null!=s&&(c=s.backboneReviews);var u=n.getState().receivedReviewProgresses,l=u&&u.evaluationIfReady?{typeName:"structured",definition:u.evaluationIfReady.aggregatedReviewsSummary}:null,d=u?{isComplete:!!u.evaluationIfReady,earliestCompletionTime:u.earliestCompletionTime,reviewCount:u.reviewCount,minCompletionReviewCount:u.defaultReceivedReviewRequiredCount}:null,m=i.getPartnerId();return{submission:t.getState().naptimeSubmission,submissionId:t.getState().submissionId,reviews:c,reviewSchema:r&&r.reviewSchema,submissionSchema:t.getState().naptimeSubmissionSchema,reviewsSummary:l,reviewProgress:d,isPeerViewSubmissionStoreLoaded:o,isPeerReviewAttemptsLimitsEpicEnabled:!!m&&Object(Mr.a)(m)}})),Object(m.a)((function(e){return e.isPeerViewSubmissionStoreLoaded}),a.a.createElement(je.a,{className:"rc-PeerSubmissionWithReviewsBody"})))(Va),Ua=t("kljU"),Ha=function PeerItemSubmittedView(e){var t=e.lastSaveTime,n=e.computedItem,i=e.title,r=e.submissionId,s=e.courseBranchId,o=e.courseId,c=e.isResubmissionDisabled,u=e.reviews,l=e.isAnonymousPeerReviewEnabled;return(a.a.createElement("div",{className:"rc-PeerItemSubmittedView rc-AssignmentSubmit"},a.a.createElement(tr,{itemId:n.id,courseBranchId:s,courseId:o,hasSubmitted:!0}),a.a.createElement(Ra,{reviews:u}),a.a.createElement(Ea.a,{title:i,createdAt:t,shareableLink:l?void 0:a.a.createElement(Ta.a,{computedItem:n,submissionId:r})}),a.a.createElement(La,{courseId:o,computedItem:n,isResubmissionDisabled:c})))},Ba=o.a.compose(Object(c.a)(["PeerViewSubmissionStore",Wi.a,qi.a,fa.a],(function(e){var t,n,i,r,a=e.PeerViewSubmissionStore,s=e.CourseStore,o=e.SessionStore,c=e.WrappedReducerStore,u,l,d;return a.getState().submissionAndRelated&&(d=a.getState().submissionAndRelated.submission.definition.title,l=a.getState().submissionAndRelated.submission.id,u=a.getState().submissionAndRelated.submission.createdAt),{title:d,submissionId:l,lastSaveTime:u,reviews:null===(t=a.getState())||void 0===t?void 0:null===(n=t.reviewSubmissionState)||void 0===n?void 0:n.reviews,courseId:s.getCourseId(),courseBranchId:o.getBranchId()||s.getCourseId(),isAnonymousPeerReviewEnabled:(null===(i=c.getState().capabilitiesWithReasons)||void 0===i?void 0:null===(r=i.anonymousPeerReview)||void 0===r?void 0:r.isAllowed)||!1}})),Object(m.a)((function(e){return e.submissionId})),l.a.createTrackedContainer((function(){return{namespace:{page:"peer_review_my_project_review"}}})))(Ha),qa,Ga=function(e){function PeerItemSubmit(){return e.apply(this,arguments)||this}var t;return i()(PeerItemSubmit,e),PeerItemSubmit.prototype.render=function render(){var e=this.props,t=e.isSubmitted,n=e.latestSubmissionId,i=e.computedItem,r=e.loadedPeerViewSubmissionId,s=e.isResubmissionDisabled,o=r!==n;return a.a.createElement(Ne,{isSubmitted:t,editView:a.a.createElement(Pa,{computedItem:i}),submittedView:o?qa||(qa=a.a.createElement(je.a,{className:"rc-PeerItemSubmit"})):a.a.createElement(Ba,{computedItem:i,isResubmissionDisabled:s})})},PeerItemSubmit}(a.a.Component),Fa=o.a.compose(l.a.createTrackedContainer((function(){return{namespace:{page:"peer_review_my_project"}}})),Object(c.a)(["CourseStore","PeerViewSubmissionStore","PeerPermissionsAndProgressesStore"],(function(e){var t=e.CourseStore,n=e.PeerViewSubmissionStore,i=e.PeerPermissionsAndProgressesStore;return{isPeerProgressesLoaded:"loaded"===i.getState().loadState,loadedPeerViewSubmissionId:n.getState().submissionId,isSubmitted:i.getState().isSubmitted,latestSubmissionId:i.getState().latestSubmissionId,courseId:t.getCourseId()}})),Object(m.a)((function(e){var t;return e.isPeerProgressesLoaded}),a.a.createElement(je.a,{className:"rc-PeerItemSubmit"})),Object(u.a)((function(e,t){var n=t.computedItem,i=t.courseId,r=t.isSubmitted,a=t.latestSubmissionId,s=t.loadedPeerViewSubmissionId,o;r&&a&&(s!==a&&e.executeAction(ke.d,{userId:d.a.get().id,courseId:i,itemId:n.id,submissionId:a}))})))(Ga),Wa=e.default=Fa},"4uky":function(module,e,t){"use strict";var n=t("q1tI"),i=t.n(n),r=t("EqTq"),a=t("QUzv"),s=t.n(a),o=Object(r.a)("PeerAnonymousNotification"),c=function PeerAnonymousNotification(e){var t=e.children;return(i.a.createElement("div",{className:o()},t))};e.a=c},"5s+m":function(module,exports,e){e("GwjF")},"6xos":function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t.n(r),s=t("dcEN"),o=t.n(s),c=t("17x9"),u=t.n(c),l=t("kvW3"),d=t("yhVA"),m=t.n(d),p=t("SVYm"),h=t.n(p),f=function(e){function MySubmissionHeader(){return e.apply(this,arguments)||this}var t;return i()(MySubmissionHeader,e),MySubmissionHeader.prototype.render=function render(){var e=this.props,t=e.title,n=e.createdAt,i=e.shareableLink;return(a.a.createElement("div",{className:"rc-MySubmissionHeader bt3-clearfix"},a.a.createElement("div",{className:"headline-4-text"},t),a.a.createElement("div",{className:"horizontal-box"},!!n&&a.a.createElement("div",{className:"caption-text color-secondary-text"},a.a.createElement(l.b,{message:m()("Submitted on {creatorName}"),creatorName:o()(n).format("LL")})),i&&a.a.createElement("div",{className:"flex-1 align-right caption-text"},i))))},MySubmissionHeader}(a.a.Component);f.propTypes={title:u.a.string.isRequired,createdAt:u.a.number,shareableLink:u.a.element},e.a=f},"7Diq":function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t.n(r),s=t("+KAk"),o=t("X129"),c,u=function DisplayPart(e){var t=e.reviewSchemaPart,n,i=Object(s.a)(t.get("typeName")).DisplayPart;return a.a.createElement("div",{className:"rc-DisplayPart"},a.a.createElement(i,e))},l=t("yhVA"),d=t.n(l),m=t("WS07"),p=function(e){function DisplayParts(){return e.apply(this,arguments)||this}var t;return i()(DisplayParts,e),DisplayParts.prototype.render=function render(){var e=this.props,t=e.reviewSchema,n=e.reviewsSummary,i=e.reviews,r=e.submissionSchemaPartId,s=e.submissionId,o=e.assignmentLevelPointsLabel,c=t.getPartsForSubmissionSchemaPart(r);if(0===c.length)return null;return(a.a.createElement("div",{className:"rc-DisplayParts bgcolor-white"},a.a.createElement("div",{className:"title horizontal-box align-items-spacebetween label-text color-secondary-text"},a.a.createElement("span",null,null!=r?d()("Rubric"):d()("Overall Assignment Rubric")),a.a.createElement("span",null,null===r&&o)),a.a.createElement("div",{className:"body-1-text"},c.map((function(e){return a.a.createElement(u,{key:e.get("id"),reviewSchemaPart:e,reviewsSummary:n,reviews:i,submissionId:s})})))))},DisplayParts}(a.a.Component),h=e.a=p},"8I0P":function(module,exports,e){},AOca:function(module,exports,e){e("2+Zh")},AbQT:function(module,exports){function webpackEmptyContext(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id="AbQT"},Bmtg:function(module,exports,e){},C2np:function(module,e,t){"use strict";var n=t("q1tI"),i=t.n(n),r=t("lSNA"),a=t.n(r),s=t("3tO9"),o=t.n(s),c=t("VbXa"),u=t.n(c),l=t("17x9"),d=t.n(l),m=t("HOoY"),p=t("EqTq"),h=t("sQ/U"),f=t("fw5G"),g=t.n(f),b=t("S+eF"),v=t.n(b),S=t("DnuM"),I=Object(S.a)("/api/onDemandPeerComments.v1",{type:"rest"}),y="onDemandSocialProfiles.v1",C=["comment","attachedAssignmentId","creatorId","createdAt","peerSubmissionId","".concat(y,"(userId,externalUserId,fullName,photoUrl,courseRole,isAnonymous)")],w=function getComments(e){var t=e.userId,n=e.courseId,i=e.itemId,r=e.submissionId,a=(new g.a).addQueryParam("q","submission").addQueryParam("userId",t.toString()).addQueryParam("peerSubmissionId","".concat(n,"~").concat(i,"~").concat(r)).addQueryParam("fields",C.join(",")).addQueryParam("includes","profiles");return v()(I.get(a.toString())).then((function(e){return{comments:e.elements,userProfiles:e.linked[y]}}))},P=function submitComment(e){var t=e.courseId,n=e.itemId,i=e.submissionId,r=e.comment,a=(new g.a).addQueryParam("fields",C.join(",")).addQueryParam("includes","profiles");return v()(I.post(a.toString(),{data:{comment:r,peerSubmissionId:"".concat(t,"~").concat(n,"~").concat(i)}})).then((function(e){return{comments:e.elements,userProfiles:e.linked[y]}}))},E=t("yhVA"),A=t.n(E),R=t("rn8S"),T=t("wd/R"),O=t.n(T),N=t("m10x"),j=t("ca6j"),k=t("E3EV"),x=Object(p.a)("CommentRow"),D,M=function CommentRow(e){var t=e.commentData,n=t.creator,r=t.comment;return(i.a.createElement("div",{className:x()},i.a.createElement("div",{className:x("profile-image-container")},i.a.createElement(j.a,{profile:n})),i.a.createElement("div",{className:x("comment-container")},i.a.createElement("div",{className:x("name-and-time-container")},i.a.createElement(N.h,{rootClassName:x("full-name",void 0,"pii-hide")},n.isAnonymous?A()("Anonymous Learner"):n.fullName),i.a.createElement("div",{className:x("comment-time")},O()(r.createdAt).fromNow())),i.a.createElement("div",{className:x("comment-content")},r.comment.definition.comment))))},V=t("8Ytk"),L=t("AWZ4"),U=t("2P4+"),H=Object(p.a)("CommentTextArea"),B,q=function(e){function CommentTextArea(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={},t.onChange=function(e){var n=e.target.value;t.setState({comment:n})},t.onPostClick=function(){var e=t.props.onPostingComment,n=t.state.comment;n&&e(n).then((function(){t.setState({comment:""})}))},t}var t;return u()(CommentTextArea,e),CommentTextArea.prototype.render=function render(){var e=this.props.submissionId,t=this.state.comment;return i.a.createElement("div",{className:H()},i.a.createElement("div",{className:H("profile-image-container",void 0,"pii-hide")},i.a.createElement(j.a,{profile:{photoUrl:h.a.get().photo_120,fullName:h.a.get().fullName}})),i.a.createElement("div",{className:H("input-container")},i.a.createElement(V.a,{label:A()("Enter Peer Review comments"),value:t,componentId:"".concat(e,"~comment"),placeholder:A()("Share your thoughts..."),onChange:this.onChange}),t&&i.a.createElement("div",{className:H("button-container")},i.a.createElement(L.b,{type:"secondary",size:"sm",label:A()("Post"),onClick:this.onPostClick}))))},CommentTextArea}(i.a.Component),G=Object(p.a)("CommentsContainer"),F={LOADING:"LOADING",LOAD_ERROR:"LOAD_ERROR",SUBMITING:"SUBMITING",SUBMIT_ERROR:"SUBMIT_ERROR",READY:"READY"},W=function getNetworkStatusString(e){var t;return{LOADING:A()("Loading..."),LOAD_ERROR:A()("Load error!"),SUBMITING:A()("Submitting..."),SUBMIT_ERROR:A()("Submit error!")}[e]},z=function(e){function CommentsContainer(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={commentRowData:[],networkState:F.READY},t.onCommentFetchSuccess=function(e){var n=e.comments,i,r=e.userProfiles.reduce((function(e,t){return o()(o()({},e),{},a()({},t.userId,t))}),{});t.setState({commentRowData:n.map((function(e){return{comment:e,creator:r[e.creatorId]}})),networkState:F.READY})},t.onPostingComment=function(e){var n=t.props,i=n.courseId,r=n.itemId,a=n.submissionId,s=t.context._eventData;return t.setState({networkState:F.SUBMITING}),P({comment:{typeName:"plain",definition:{comment:e}},courseId:i,itemId:r,submissionId:a}).then((function(){m.a.trackComponent(s,{comment_user_id:h.a.get().id,comment:e},"click","post")})).catch((function(){t.setState({networkState:F.SUBMIT_ERROR})})).then(t.fetchComments)},t.fetchComments=function(){var e=t.props,n=e.courseId,i=e.itemId,r=e.submissionId;return w({userId:h.a.get().id,courseId:n,itemId:i,submissionId:r}).then(t.onCommentFetchSuccess).catch((function(){t.setState({networkState:F.LOAD_ERROR})}))},t}u()(CommentsContainer,e);var t=CommentsContainer.prototype;return t.componentDidMount=function componentDidMount(){this.setState({networkState:F.LOADING}),this.fetchComments()},t.componentDidUpdate=function componentDidUpdate(e){var t=this.props,n=t.courseId,i=t.itemId,r=t.submissionId;e.courseId===n&&e.itemId===i&&e.submissionId===r||this.fetchComments()},t.render=function render(){var e=this.props.submissionId,t=this.state,n=t.commentRowData,r=t.networkState;return i.a.createElement("div",{className:G()},r!==F.READY&&i.a.createElement("p",null,W(r)),i.a.createElement("h3",{className:G(void 0,void 0,"headline-1-text")},A()("Comments")),i.a.createElement("p",{className:G(void 0,void 0,"caption-text")},A()("Comments left for the learner are visible only to that learner and the person who left the comment.")),i.a.createElement("div",{className:G("input-section")},i.a.createElement(q,{submissionId:e,onPostingComment:this.onPostingComment})),i.a.createElement("div",{className:G("comments")},n.map((function(e){return i.a.createElement(M,{commentData:e,key:"".concat(e.comment.createdAt,"~").concat(e.comment.creatorId)})}))))},CommentsContainer}(i.a.Component);z.contextTypes={_eventData:d.a.object};var Q=z,Y=t("c82m"),K=t("AOca"),J=function CommentSection(e){var t=e.computedItem,n=e.submissionId,r=e.courseId;return(i.a.createElement("div",{className:"rc-CommentsSection card-rich-interaction cozy"},i.a.createElement(Q,{courseId:r,itemId:t.id,submissionId:n})))},X=e.a=J},CS9W:function(module,exports,e){e("XNph")},CsqG:function(module,exports,e){},DWfD:function(module,e,t){"use strict";var n=t("VkAN"),i=t.n(n),r=t("AeFk"),a=t("q1tI"),s=t.n(a),o=t("kvW3"),c=t("ZJgU"),u=t("8Hdl"),l=t("jPyl"),d=t("8WNh"),m=t("jts1"),p=t("zOG3"),h=t("cAeq"),f=t("gNwb"),g=t("HXet"),b=t.n(g),v,S,I,y,C,w,P,E=Object(f.d)({type:"BUTTON"})(c.a),A={loaderContainer:Object(r.c)(v||(v=i()(["\n    display: flex;\n    align-items: center;\n  "]))),loaderText:function loaderText(e){return Object(r.c)(S||(S=i()(["\n    margin-left: ",";\n  "])),e.spacing(16))},baseContainer:function baseContainer(e){return Object(r.c)(I||(I=i()(["\n    background-color: ",";\n    padding: ",";\n  "])),e.palette.gray[100],e.spacing(24))},title:Object(r.c)(y||(y=i()(["\n    font-weight: bold;\n  "]))),description:function description(e){return Object(r.c)(C||(C=i()(["\n    margin: ",";\n  "])),e.spacing(8,0,16,0))}},R=function getPlagiarismDetectionMetaData(e,t,n){var i=Object.keys(e),r=i.length,a=i.reduce((function(t,n){var i;return null!==(i=e[n])&&void 0!==i&&i.result?t+1:t}),0)+i.reduce((function(e,n){return"ZERO_LENGTH_FILE"===t[n]?e+1:e}),0),s=i.reduce((function(t,n){return void 0===e[n]?t+1:t}),0),o=i.reduce((function(e,t){return n[t]?e+1:e}),0),c,u,l;return{totalPartsCount:r,availableResultsCount:a,plagiarismDetectedPartsCount:i.reduce((function(t,n){var i,r=(e[n]||{}).result;if(r&&r.orgCourseraSimilaritycheckSimilarityCheckSuccess&&r.orgCourseraSimilaritycheckSimilarityCheckSuccess.score>0)return t+1;return t}),0),inProgressPartsCount:i.reduce((function(t,n){var i,r=(e[n]||{}).status;if(r&&"IN_PROGRESS"===r)return t+1;return t}),0),errorPartsCount:i.reduce((function(t,n){var i,r=(e[n]||{}).result;return null!=r&&r.orgCourseraSimilaritycheckSimilarityCheckFailure?t+1:t}),0)+i.reduce((function(e,n){return"ZERO_LENGTH_FILE"===t[n]?e+1:e}),0),emptyResultsCount:s,hasContentCount:o}},T=function PlagiarismDetectionSummaryDescription(e){var t=e.inProgressPartsCount,n=e.availableResultsCount,i=e.totalPartsCount,a,s;if(Object(m.b)().isPollingTimedOut)return Object(r.d)("div",null,b()("The Plagiarism Checker is taking longer than expected. Refresh to get results."));if(t>0){if(0===n)return Object(r.d)("div",null,b()("Scanning assigment for plagiarism, this might take a few minutes"));return Object(r.d)(o.b,{message:b()("{availableResultsCount} / {totalPartsCount} {totalPartsCount, plural, =1 {response} other {responses}} returned"),availableResultsCount:n,totalPartsCount:i})}return Object(r.d)("div",null,b()("Scan your assignment for similarities with our Plagiarism Checker."))},O=function PlagiarismDetectionSummaryScanControls(e){var t=e.inProgressPartsCount,n=e.emptyResultsCount,i=e.hasContentCount,a=Object(m.b)(),s=a.isReadyForCheck,o=a.setIsReadyForCheck,c;if(a.isPollingTimedOut)return Object(r.d)(E,{trackingName:"refresh_plagiarism_check",variant:"ghost",iconPosition:"before",icon:w||(w=Object(r.d)(l.a,{size:"small"})),size:"small","data-test":"refresh_button",onClick:function onClick(){location.reload()}},b()("Refresh"));if(t>0||s)return Object(r.d)("div",{css:A.loaderContainer},P||(P=Object(r.d)(d.a,{size:32})),Object(r.d)(u.a,{variant:"h3semibold",css:A.loaderText},b()("Scanning ... ")));if(0===n||0===i)return Object(r.d)(h.c,{placement:"bottom",delayShow:100,tooltipId:"PlagiarismDetectionButtonToolTip",message:b()("No assignment detected")},Object(r.d)("div",null,Object(r.d)(E,{trackingName:"scan_for_plagiarism",variant:"primary",size:"medium",disabled:!0,onClick:function onClick(){o(!0)}},b()("Scan for plagiarism"))));return Object(r.d)(E,{trackingName:"scan_for_plagiarism",variant:"primary",size:"medium",onClick:function onClick(){o(!0)}},b()("Scan for plagiarism"))},N=function PlagiarismDetectionSummary(){var e=Object(m.b)(),t=e.similarityChecksDataMap,n=e.submitForCheckErrorCodeMap,i=e.hasContentMap,a=R(t,n,i),s=a.totalPartsCount,c=a.availableResultsCount,u=a.plagiarismDetectedPartsCount,l=a.inProgressPartsCount,d=a.errorPartsCount,h=a.emptyResultsCount,f=a.hasContentCount;if(0===s)return null;if(c===s&&0!==s){if(d>0)return Object(r.d)(p.b,{type:p.a.ERROR,title:Object(r.d)(o.b,{message:b()("We couldn’t get the result for {totalPartsCount, plural, =1 {your response} other {{errorPartsCount} of your responses}}"),errorPartsCount:d,totalPartsCount:s})},b()("Edit your answer and check again for plagiarism before submitting your assignment."));if(0===u)return Object(r.d)(p.b,{type:p.a.NOT_DETECTED,title:b()("Plagiarism not detected")},b()("No plagiarism detected for all your responses."));return Object(r.d)(p.b,{type:p.a.DETECTED,title:Object(r.d)(o.b,{message:b()("We've detected plagiarism in {plagiarismDetectedPartsCount} {plagiarismDetectedPartsCount, plural, =1 {response} other {responses}}"),plagiarismDetectedPartsCount:u})},b()("Edit your answer and check again for plagiarism before submitting your assignment."))}return Object(r.d)("div",{css:A.baseContainer},Object(r.d)("div",{css:A.title},b()("Plagiarism Detection")),Object(r.d)("div",{css:A.description},Object(r.d)(T,{inProgressPartsCount:l,availableResultsCount:c,totalPartsCount:s})),Object(r.d)(O,{inProgressPartsCount:l,totalPartsCount:s,emptyResultsCount:h,hasContentCount:f}))};e.a=N},E3EV:function(module,exports,e){e("e+ri")},E5sG:function(module,exports,e){},Ef0b:function(module,e,t){"use strict";var n=t("fsL8"),i=t.n(n),r=t("yXPU"),a=t.n(r),s=t("S+eF"),o=t.n(s),c=t("F/us"),u=t.n(c),l=t("fAMf"),d=t("StP4"),m=t("i6HE"),p=t("E4RX"),h=t("JAmU"),f=t("uhR6"),g=t("beWW"),b=t("Q3zy"),v=t("fw5G"),S=t.n(v),I=t("DnuM"),y=Object(I.a)("/api/onDemandPeerAssignmentInstructions.v1",{type:"rest"}),C=["instructions"],w=["requiredAuthoredReviewCount","isMentorGraded","assignmentDetails"],P=function getAssignment(e){var t=e.userId,n=e.courseId,i=e.itemId,r=(new S.a).addQueryParam("q","latest").addQueryParam("userId",t.toString()).addQueryParam("courseId",n).addQueryParam("itemId",i).addQueryParam("includes",["gradingMetadata","reviewSchemas","submissionSchemas"].join(",")).addQueryParam("fields",[C,"onDemandPeerAssignmentGradingMetadata.v1(".concat(w.join(","),")"),"onDemandPeerReviewSchemas.v1(reviewSchema)","onDemandPeerSubmissionSchemas.v1(submissionSchema)"].join(","));return o()(y.get(r.toString()))},E=Object(I.a)("/api/onDemandPeerAssignmentPermissions.v1",{type:"rest"}),A=Object(I.a)("/api/onDemandPeerSubmissionProgresses.v1",{type:"rest"}),R="onDemandPeerSubmissionProgresses.v1",T="onDemandPeerReceivedReviewProgresses.v1",O="onDemandPeerDisplayablePhaseSchedules.v1",N=["latestSubmissionSummary","latestDraftSummary","latestAttemptSummary"],j=["evaluationIfReady","earliestCompletionTime","reviewCount","defaultReceivedReviewRequiredCount"],k=["currentPhase","phaseEnds","phaseStarts"],x=["deleteSubmission","listSubmissions","reviewPeers","viewReviewSchema","anonymousPeerReview","".concat(R,"(").concat(N.join(","),")"),"".concat(T,"(").concat(j.join(","),")"),"".concat(O,"(").concat(k.join(","),")")],D=["receivedReviewsProgress","submissionProgress","phaseSchedule"],M=function getPermissionsAndProgresses(e,t,n){var i=new S.a("".concat(e,"~").concat(t,"~").concat(n)).addQueryParam("fields",x.join(",")).addQueryParam("includes",D.join(","));return o()(E.get(i.toString())).then((function(e){return{assignmentPermissions:u()(e.elements).first(),submissionProgresses:u()(e.linked[R]).first(),receivedReviewProgresses:u()(e.linked[T]).first(),displayablePhaseSchedules:u()(e.linked[O]).first()}}))},V=function(){var e=a()(i()().mark((function _callee(e){var t,n,r,a,s,o;return i()().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return n=e.userId,r=e.courseId,a=e.itemId,s=new S.a("".concat(n,"~").concat(r,"~").concat(a)).addQueryParam("fields",N.join(",")),i.next=4,A.get(s.toString());case 4:return o=i.sent,i.abrupt("return",null===(t=o.elements)||void 0===t?void 0:t[0]);case 6:case"end":return i.stop()}}),_callee)})));return function getPeerSubmissionProgresses(t){return e.apply(this,arguments)}}(),L=t("bPpC"),U=t("Hk9X");t.d(e,"b",(function(){return q})),t.d(e,"c",(function(){return W})),t.d(e,"a",(function(){return z})),t.d(e,"d",(function(){return Q}));var H=function loadAssignment(e,t){var n=t.userId,i=t.courseId,r=t.itemId;return e.dispatch(f.a.LOADING_PEER_ASSIGNMENT),P({userId:n,courseId:i,itemId:r}).then((function(t){return e.dispatch(f.a.LOADED_PEER_ASSIGNMENT,{assignment:Object(U.a)(t),loadedItemId:r}),t}))},B=function loadPermissionsAndProgresses(e,t){var n=t.userId,i=t.courseId,r=t.itemId;return e.dispatch(f.a.LOADING_PEER_USER_PERMISSIONS),M(n,i,r).then((function(t){e.dispatch(f.a.LOADED_DISPLAYABLE_PHASE_SCHEDULE,{displayablePhaseSchedule:t.displayablePhaseSchedules});var n=u()(t.assignmentPermissions).chain().pick((function(e){return e.isAllowed})).keys().value();return e.dispatch(f.a.LOADED_PEER_USER_PERMISSIONS,{capabilities:n,capabilitiesWithReasons:t.assignmentPermissions,receivedReviewProgresses:t.receivedReviewProgresses,submissionProgresses:t.submissionProgresses}),t}))},q=function(){var e=a()(i()().mark((function _callee(e,t){var n,r,a,s;return i()().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return n=t.userId,r=t.courseId,a=t.itemId,i.next=3,V({userId:n,courseId:r,itemId:a});case 3:return s=i.sent,e.dispatch(f.a.LOADED_PEER_USER_SUBMISSION_PROGRESSES,{submissionProgresses:s}),i.abrupt("return",s);case 6:case"end":return i.stop()}}),_callee)})));return function loadLatestSubmissionProgresses(t,n){return e.apply(this,arguments)}}(),G=function loadSubmissionDraft(e,t){var n=t.userId,i=t.courseId,r=t.itemId,a=t.permissionsAndProgresses,s=t.submissionSchema,c=t.reviewSchema;return e.dispatch(f.a.PEER_SUBMISSION_DRAFT_LOADING),null==a.submissionProgresses.latestDraftSummary?o()(Object(U.g)(s,c,n)).then((function(t){return e.dispatch(f.a.LOADED_PEER_SUBMISSION_DRAFT,{naptimeSubmissionSchema:s,naptimeSubmission:Object(l.a)(s.submissionSchema,n),latestSubmissionAndRelated:t})})):Object(b.b)({userId:n,courseId:i,itemId:r}).then((function(t){var n=Object(U.d)(t);return e.dispatch(f.a.LOADED_PEER_SUBMISSION_DRAFT,{naptimeSubmission:t.submission,naptimeSubmissionSchema:s,latestSubmissionAndRelated:n})}))},F=function loadLatestSubmission(e,t){var n=t.userId,i=t.courseId,r=t.itemId,a=t.permissionsAndProgresses,s=t.submissionSchema,c=t.reviewSchema,u=t.shouldLoadOwnPeerViewSubmission;return null==a.submissionProgresses.latestSubmissionSummary?G(e,{userId:n,courseId:i,itemId:r,permissionsAndProgresses:a,submissionSchema:s,reviewSchema:c}):u?Object(h.d)(e,{userId:n,courseId:i,itemId:r,submissionId:a.submissionProgresses.latestSubmissionSummary.computed.id}):o()()},W=function loadReviewQueue(e,t){var n=t.userId,i=t.itemId,r=t.courseId,a=t.limit,s=t.start;return e.dispatch(f.a.REVIEW_QUEUE_LOADING),Object(g.a)({userId:n,courseId:r,itemId:i,start:s,limit:a}).then((function(e){return Object(U.b)(e)})).then((function(t){e.dispatch(f.a.REVIEW_QUEUE_LOADED,{data:t,itemId:i})})).catch((function(t){if(403!==t.status)throw t;e.dispatch(f.a.REVIEW_QUEUE_ERROR,{errorType:"mustSubmitBeforeReviewing"})}))},z=function loadInitialPeerData(e,t){var n=t.userId,i=t.courseId,r=t.itemId,a=t.forceRefresh,s=t.shouldLoadOwnPeerViewSubmission,c=e.getStore(L.a).getState(),u="loaded"===c.loadState,l=r!==c.loadedItemId;if(!a&&u&&!l)return o()({});return o.a.all([B(e,{userId:n,courseId:i,itemId:r}),H(e,{userId:n,courseId:i,itemId:r})]).spread((function(t,a){return F(e,{userId:n,courseId:i,itemId:r,permissionsAndProgresses:t,submissionSchema:a.linked["onDemandPeerSubmissionSchemas.v1"][0],reviewSchema:a.linked["onDemandPeerReviewSchemas.v1"][0],shouldLoadOwnPeerViewSubmission:s})}))},Q=function refreshSubmissionAndProgress(e,t){var n=t.userId,i=t.courseId,r=t.courseSlug,a=t.itemId;return z(e,{userId:n,courseId:i,itemId:a,forceRefresh:!0,shouldLoadOwnPeerViewSubmission:!0}).then((function(){return e.executeAction(p.a,{courseId:i,refreshProgress:!0}).then((function(){return Promise.all([e.executeAction(p.a,{courseId:i,refreshProgress:!0}),e.executeAction(m.b,{courseId:i}),e.executeAction(d.b,{courseSlug:r,refetch:!0})])}))}))}},Egb2:function(module,exports,e){e("Ry9o")},GKzL:function(module,exports,e){var t=e("+lOM"),n=t.default?t.default:{},i,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"en"},module.exports=r},GVYJ:function(module,exports,e){},GwjF:function(module,exports,e){},J2aD:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t.n(r),s=t("TSYQ"),o=t.n(s),c=t("Ev5W"),u,l=function GitRepoView(e){var t=e.submissionPart;return(a.a.createElement(c.a,{repositoryId:t.gitRepositoryId,launchRole:t.launchRole,courseId:t.courseId,itemId:t.itemId,learnerUserId:t.submitterUserId}))},d=t("fiqM"),m,p=function PlainTextView(e){var t=e.submissionPart;return(a.a.createElement("span",{className:"rc-PlainTextView"},t.plainText&&a.a.createElement("p",{className:"body-1-text",style:{whiteSpace:"pre-line",wordWrap:"break-word"}},t.plainText)))},h=t("wPTH"),f=t("yMmU"),g=t("PNHL"),b=t("rlpc"),v=t("beC1"),S=t("yhVA"),I=t.n(S),y=t("CS9W"),C,w,P=function(e){function SubmissionPartView(){return e.apply(this,arguments)||this}i()(SubmissionPartView,e);var t=SubmissionPartView.prototype;return t.renderSpecificPart=function renderSpecificPart(){var e=this.props,t=e.submissionPart,n=e.showAutoSubmittedNote;if(!t)return null;switch(t.typeName){case"plainText":return a.a.createElement(p,{submissionPart:t.definition});case"richText":return a.a.createElement(h.a,{submissionPart:t.definition});case"url":return a.a.createElement(b.a,{submissionPart:t.definition});case"fileUpload":return a.a.createElement(g.a,{submissionPart:t.definition});case"offPlatform":return n&&(C||(C=a.a.createElement(d.a,null)));case"git":return a.a.createElement(l,{submissionPart:t.definition});default:return null}},t.render=function render(){var e=this.props,t=e.submissionSchemaPart,n=e.isInvalid,i=o()("rc-SubmissionPartView","bgcolor-white",{invalid:n});return a.a.createElement(f.a,null,a.a.createElement("div",{className:i},a.a.createElement("div",{className:"title label-text color-secondary-text"},I()("Prompt")),a.a.createElement("div",{className:"prompt caption-text color-secondary-text"},a.a.createElement(v.a,{content:t.prompt,assumeStringIsHtml:!0})),a.a.createElement("div",{className:"body-1-text scrollable"},this.renderSpecificPart()),n&&(w||(w=a.a.createElement("div",{className:"body-2-text color-danger"},"Invalid submission part")))))},SubmissionPartView}(a.a.Component);P.defaultProps={isInvalid:!1,showAutoSubmittedNote:!1};var E=e.a=P},KH0K:function(module,exports,e){"use strict";var t;exports.__esModule=!0,exports.SimilarityStatus=exports.protobufPackage=void 0,exports.protobufPackage="coursera.proto.simtext.similarity.v1beta1",function(e){e.SIMILARITY_STATUS_INVALID="SIMILARITY_STATUS_INVALID",e.SIMILARITY_STATUS_OK="SIMILARITY_STATUS_OK",e.SIMILARITY_STATUS_QUERY_TOO_LONG="SIMILARITY_STATUS_QUERY_TOO_LONG",e.SIMILARITY_STATUS_SKIPPED_PART="SIMILARITY_STATUS_SKIPPED_PART",e.UNRECOGNIZED="UNRECOGNIZED"}(t=exports.SimilarityStatus||(exports.SimilarityStatus={}))},MRkV:function(module,exports,e){},Nfse:function(module,exports,e){e("cVvr")},"O+1n":function(module,e,t){"use strict";var n=t("S+eF"),i=t.n(n),r=t("k8gO"),a=t("welz"),s,o,c=t.n(a).a.Model.extend({}),u=t("sQ/U");t.d(e,"a",(function(){return l})),t.d(e,"b",(function(){return d}));var l=function fetchVerifiableId(){var e=u.a.get().id;return i.a.resolve("".concat(Object(r.a)(),"~").concat(e))},d=function verifyAssignment(e,t){var n=u.a.get().id;return i.a.resolve(new c({isApprovedForVerificationState:!0,verifiableId:e.split("~")[0],nextVerificationState:"Success",id:e,userId:n,expiresAt:Date.now()+2592e6}))},m=function verifyAssignmentWithViewModel(e){d(e.get("verifiableId")).then((function(){e.trigger("verificationComplete",{hasVerified:!0})})).done()},p=function fetchVerifiableIdAndVerifyAssignment(e){l().then((function(t){return e.set("verifiableId",t),e})).then(m)}},OA6n:function(module,exports,e){},Pk7u:function(module,exports,e){},Pnyh:function(module,exports,e){e("OA6n")},Q3zy:function(module,e,t){"use strict";t.d(e,"b",(function(){return m})),t.d(e,"c",(function(){return p})),t.d(e,"a",(function(){return h}));var n=t("3tO9"),i=t.n(n),r=t("fw5G"),a=t.n(r),s=t("S+eF"),o=t.n(s),c=t("DnuM"),u=Object(c.a)("/api/onDemandPeerSubmissionDrafts.v1",{type:"rest"}),l=["submission","context","creatorId","attachedAssignmentId","createdAt","upgradeSubmissionToLatestAssignment","blocksSubmit","validationErrors","onDemandPeerReviewSchemas.v1(reviewSchema)","onDemandPeerSubmissionSchemas.v1(submissionSchema)"],d=["reviewSchemas","submissionSchemas"];function responseHandler(e){if(e.elements&&e.elements.length){var t=e.linked["onDemandPeerSubmissionSchemas.v1"]&&e.linked["onDemandPeerSubmissionSchemas.v1"].length&&e.linked["onDemandPeerSubmissionSchemas.v1"][0],n=e.linked["onDemandPeerReviewSchemas.v1"]&&e.linked["onDemandPeerReviewSchemas.v1"].length&&e.linked["onDemandPeerReviewSchemas.v1"][0];if(null==t)throw new Error("No linked submission schema in onDemandPeerSubmissionDraftsApi");return i()(i()({},e.elements[0]),{},{reviewSchema:n,submissionSchema:t})}throw new Error("No elements received in onDemandPeerSubmissionDraftsApi")}var m=function getSubmissionDraft(e){var t=e.userId,n=e.courseId,i=e.itemId,r="".concat(t,"~").concat(n,"~").concat(i),s=new a.a(r).addQueryParam("fields",l.join(",")).addQueryParam("includes",d.join(","));return o()(u.get(s.toString())).then(responseHandler)},p=function updateSubmissionDraft(e){var t=e.userId,n=e.courseId,i=e.itemId,r=e.submissionDraftUpdate,s="".concat(t,"~").concat(n,"~").concat(i),c=new a.a(s).addQueryParam("fields",l.join(",")).addQueryParam("includes",d.join(","));return o()(u.put(c.toString(),{data:r})).then(responseHandler)},h=function forceUpgradedSubmissionDraft(e){var t=e.userId,n=e.courseId,i=e.itemId,r=e.forceUpgradeToAssignmentId,s="".concat(t,"~").concat(n,"~").concat(i),c=(new a.a).addQueryParam("action","forceUpgradedDraft").addQueryParam("id",s).addQueryParam("forceUpgradeToAssignmentId",r).addQueryParam("fields",l.join(",")).addQueryParam("includes",d.join(","));return o()(u.post(c.toString())).then((function(e){return e[0]}))}},QUzv:function(module,exports,e){e("rpqI")},QXwm:function(module,exports,e){},Ry9o:function(module,exports,e){},SVYm:function(module,exports,e){e("Bmtg")},TSlG:function(module,exports,e){e("MRkV")},Tqty:function(module,exports,e){e("8I0P")},WS07:function(module,exports,e){e("4mkG")},X129:function(module,exports,e){e("j03E")},XNph:function(module,exports,e){},Y3VV:function(module,e,t){"use strict";var n=t("3tO9"),i=t.n(n),r=t("VbXa"),a=t.n(r),s=t("17x9"),o=t.n(s),c=t("q1tI"),u=t.n(c),l=function(e){function ContextProvider(t){var n;n=e.call(this,t)||this;var r={};return Object.keys(t.customContext).forEach((function(e){r[e]=o.a.any})),ContextProvider.childContextTypes=i()(i()({},ContextProvider.childContextTypes),r),n}a()(ContextProvider,e);var t=ContextProvider.prototype;return t.getChildContext=function getChildContext(){return Object.assign({},this.props.customContext)},t.render=function render(){return u.a.cloneElement(this.props.children,this.props)},ContextProvider}(u.a.Component);l.displayName=l,l.childContextTypes={},e.a=l},ZSJn:function(module,e,t){"use strict";var n=function AliceEvent(e){var t=e.type,n=e.courseBranchId,i=e.contextType;this.type=t,this.courseBranchId=n,this.contextType=i};e.a=n},Zr0k:function(module,e,t){"use strict";var n=t("RIqP"),i=t.n(n),r=t("fsL8"),a=t.n(r),s=t("yXPU"),o=t.n(s),c=t("Q/np"),u=t("Ef0b"),l=t("DnuM"),d=Object(l.a)("/api/onDemandPeerSubmissionAttempts.v1",{type:"rest"}),m=function startNewAttempt(e){var t=e.itemId,n=e.courseId;return d.post("",{data:{courseId:n,itemId:t}})},p=t("Q3zy"),h=t("5AUN"),f=t("Hk9X"),g=t("uhR6");t.d(e,"b",(function(){return I})),t.d(e,"a",(function(){return w})),t.d(e,"d",(function(){return P})),t.d(e,"c",(function(){return E})),t.d(e,"e",(function(){return A})),t.d(e,"g",(function(){return R})),t.d(e,"f",(function(){return T}));var b=function onSaveSuccess(e){return function(t){return e.dispatch(g.a.PEER_SUBMIT_UPDATE_ALERTS,{severity:"warning"}),e.dispatch(g.a.PEER_SUBMIT_UPDATE_LATEST_SUBMISSION_DRAFT,{latestSubmissionAndRelated:t}),e.dispatch(g.a.PEER_SUBMISSION_APP_STATE_SAVE_SUCCESS),t}},v=function onAutoSaveSuccess(e){return function(t){return e.dispatch(g.a.PEER_SUBMIT_UPDATE_ALERTS,{severity:"warning"}),e.dispatch(g.a.PEER_SUBMIT_UPDATE_LATEST_SUBMISSION_DRAFT,{latestSubmissionAndRelated:t}),e.dispatch(g.a.PEER_SUBMISSION_APP_STATE_AUTO_SAVE_SUCCESS),t}},S=function onSaveFailure(e){return function(t){if(t.responseJSON||t.status)return e.dispatch(g.a.PEER_SUBMISSION_APP_STATE_SAVE_ERROR,{statusCode:t.status,response:t.responseJSON}),null;throw t}},I=function localUpdateSubmission(e,t){var n=t.submission;e.dispatch(g.a.PEER_SUBMIT_LOCAL_UPDATE_DRAFT_SUBMISSION,{submission:n})},y=function(){var e=o()(a()().mark((function _callee(e,t){var n,i,r,s,o,l;return a()().wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:n=t.isNewDraft,i=t.itemId,r=t.userId,s=t.courseId,o=t.partnerId,l=!!o&&Object(c.a)(o),n&&l&&e.executeAction(u.b,{itemId:i,userId:r,courseId:s});case 3:case"end":return a.stop()}}),_callee)})));return function refetchSubmissionSummaries(t,n){return e.apply(this,arguments)}}(),C=function updateSubmissionDraft(e){var t=e.userId,n=e.courseId,i=e.itemId,r=e.submission;if(null==r.versionedAssignmentId)throw new Error("Error saving draft submission: could not find existing assignment id");return p.c({userId:t,courseId:n,itemId:i,submissionDraftUpdate:{submission:{title:r.definition.title,parts:r.definition.parts},attachedAssignmentId:r.versionedAssignmentId}})},w=function autoSaveSubmission(e,t){var n=t.userId,i=t.courseId,r=t.itemId,a=t.submission,s=t.isNewDraft,o=t.partnerId;return e.dispatch(g.a.PEER_SUBMISSION_APP_STATE_AUTO_SAVING),C({userId:n,courseId:i,itemId:r,submission:a}).then((function(e){return Object(f.d)(e)})).then(v(e),S(e)).then((function(t){return y(e,{userId:n,courseId:i,itemId:r,isNewDraft:s,partnerId:o}),t}))},P=function saveSubmission(e,t){var n=t.userId,i=t.courseId,r=t.itemId,a=t.submission,s=t.isNewDraft,o=t.partnerId;return e.dispatch(g.a.PEER_SUBMISSION_APP_STATE_SAVING),C({userId:n,courseId:i,itemId:r,submission:a}).then((function(e){return Object(f.d)(e)})).then(b(e),S(e)).then((function(t){return y(e,{userId:n,courseId:i,itemId:r,isNewDraft:s,partnerId:o}),t}))},E=function resetSubmission(e,t){var n=t.courseId,i=t.courseSlug,r=t.userId,a=t.itemId,s=t.submissionId;return h.b({userId:r,courseId:n,itemId:a,submissionId:s}).then((function(){return e.executeAction(u.d,{itemId:a,userId:r,courseId:n,courseSlug:i})}))},A=function(){var e=o()(a()().mark((function _callee2(e,t){var n,i,r,s;return a()().wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return n=t.courseId,i=t.courseSlug,r=t.userId,s=t.itemId,e.dispatch(g.a.PEER_SUBMISSION_APP_STATE_SAVING),a.next=4,m({courseId:n,itemId:s});case 4:return e.dispatch(g.a.PEER_SUBMISSION_APP_STATE_SAVE_SUCCESS),a.abrupt("return",e.executeAction(u.d,{itemId:s,userId:r,courseId:n,courseSlug:i}));case 6:case"end":return a.stop()}}),_callee2)})));return function startNewAttempt(t,n){return e.apply(this,arguments)}}(),R=function upgradeSubmission(e,t){var n=t.assignmentVersion,i=t.forceUpgradeToAssignmentVersion,r=t.itemId,a=t.courseId,s=t.courseSlug,o=t.userId,c=t.submission;if(null==c.versionedAssignmentId)throw new Error("Error upgrading assignment: could not find existing assignment id");var l="".concat(c.versionedAssignmentId.split("@")[0],"@").concat(i);return p.a({userId:o,courseId:a,itemId:r,forceUpgradeToAssignmentId:l}).then((function(e){return Object(f.f)(e)})).then((function(e){return C({itemId:r,submission:e,courseId:a,userId:o})})).then((function(e){return Object(f.d)(e)})).catch(S(e)).then((function(){return e.executeAction(u.d,{itemId:r,userId:o,courseId:a,courseSlug:s})}))},T=function submitSubmission(e,t){var n=t.itemId,r=t.submission,a=t.assignmentVersion,s=t.verifiableId,o=t.courseId,c=t.courseSlug,l=t.userId;return e.dispatch(g.a.PEER_SUBMISSION_APP_STATE_SUBMITTING),C({itemId:n,submission:r,courseId:o,userId:l}).then((function(e){return Object(f.d)(e)})).then(b(e),S(e)).then((function(e){var t=!1,n;e&&e.errorTree&&e.errorTree.errors&&(t=!![].concat(i()(e.errorTree.errors),i()(Object.keys(e.errorTree.children).reduce((function(t,n){return[].concat(i()(t),i()(e.errorTree.children[n].errors))}),[]))).some((function(e){return e.blocksSubmit})));if(t||!e)throw new Error("submit blocked by errors");return e})).then((function(e){return h.d({courseId:o,itemId:n,verifiableId:s,draftCreatedAt:e.submission.createdAt})})).then((function(){return e.dispatch(g.a.PEER_SUBMISSION_APP_STATE_SUBMIT_SUCCESS),e.executeAction(u.d,{itemId:n,userId:l,courseId:o,courseSlug:c})})).catch((function(){return e.dispatch(g.a.PEER_SUBMISSION_APP_STATE_SUBMIT_ERROR)}))}},c02J:function(module,exports,e){},c82m:function(module,exports,e){e("mz92")},cVvr:function(module,exports,e){},"e+ri":function(module,exports,e){},eQF6:function(module,e,t){"use strict";var n=t("q1tI"),i=t.n(n),r=t("Pnyh"),a=t.n(r),s=function SubmissionViewTable(e){var t=e.children;return(i.a.createElement("div",{className:"rc-SubmissionViewTable"},t))};e.a=s},fAMf:function(module,e,t){"use strict";var n=t("3WF5"),i=t.n(n),r=t("O7iK"),a=t.n(r),s=t("WQ4j"),o=function initializeSubmissionFromSchema(e,t,n){var r;return{title:"",parts:a()(i()(e.parts,(function(e){var t=e.id,i=e.details;return[t,Object(s.a)(i.typeName,n)]}))),invalidParts:{},isDraft:!0,submittedBy:t,submittedAt:Date.now(),id:""}};e.a=o},fiqM:function(module,e,t){"use strict";var n=t("q1tI"),i=t.n(n),r=t("pVnL"),a=t.n(r),s=t("MnCE"),o=t("+ojs"),c,u,l,d,m=function SvgInfo(e){return i.a.createElement(o.a,a()({},e,{viewBox:"0 0 48 48"}),c||(c=i.a.createElement("title",null,"Info")),u||(u=i.a.createElement("path",{d:"M24,46 C11.869,46 2,36.131 2,24 C2,11.869 11.869,2 24,2 C36.131,2 46,11.869 46,24 C46,36.131 36.131,46 24,46 M24,0 C10.767,0 0,10.767 0,24 C0,37.233 10.767,48 24,48 C37.233,48 48,37.233 48,24 C48,10.767 37.233,0 24,0"})),l||(l=i.a.createElement("path",{d:"M24,16 C25.105,16 26,15.104 26,14 C26,12.896 25.105,12 24,12 C22.895,12 22,12.896 22,14 C22,15.104 22.895,16 24,16"})),d||(d=i.a.createElement("polygon",{points:"25.4962 20.0093 20.4962 20.0093 20.4962 22.0093 23.4962 22.0093 23.4962 34.0093 20.4962 34.0093 20.4962 36.0093 28.4962 36.0093 28.4962 34.0093 25.4962 34.0093"})))};(m=Object(s.pure)(m)).displayName="SvgInfo";var p=m,h=t("Nfse"),f,g,b=function LightNotification(e){var t=e.translatedMsg;return(i.a.createElement("div",{className:"rc-LightNotification"},f||(f=i.a.createElement("div",{className:"icon"},i.a.createElement(p,{size:24,color:"white"}))),i.a.createElement("span",{className:"message"},t)))},v=t("yhVA"),S=t.n(v),I=function OffPlatformView(){return i.a.createElement(b,{translatedMsg:S()("Follow the instructions to complete this activity. Your grade will be updated after review by course staff.")})},y=e.a=I},iE8o:function(module,exports,e){},ibVR:function(module,exports,e){},"j/mg":function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t.n(r),s=t("TSYQ"),o=t.n(s),c=t("17x9"),u=t.n(c),l=t("MnCE"),d=t("F/us"),m=t.n(d),p=t("8cuT"),h=t("BVC1"),f=t("sQ/U"),g=t("IDuc"),b=t("Zr0k"),v=t("+2ZD"),S=t("yhVA"),I=t.n(S),y=t("3Vaj"),C=function(e){function SubmissionDeleteModal(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={deletionInProgress:!1},t.handleSubmissionDelete=function(){var e=t.props,n=e.submissionId,i=e.computedItem.id,r=e.courseId,a=e.courseSlug,s=f.a.get().id;t.setState({deletionInProgress:!0}),t.context.executeAction(b.c,{itemId:i,submissionId:n,userId:s,courseId:r,courseSlug:a})},t}var t;return i()(SubmissionDeleteModal,e),SubmissionDeleteModal.prototype.render=function render(){return this.props.showModal?a.a.createElement(v.a,{className:"rc-SubmissionDeleteModal",handleClose:this.props.onModalClose,modalName:I()("Have you reviewed your feedback?")},a.a.createElement("h3",{className:"headline-4-text title"},I()("Have you reviewed your feedback?")),a.a.createElement("p",null,I()("\n              Your feedback on this submission will be deleted when you start editing your project. You can resubmit\n              your project for feedback when you finish editing.\n            ")),a.a.createElement("div",{className:"c-modal-action-bar"},a.a.createElement(g.a,{className:"passive",onClick:this.props.onModalClose,trackingName:"edit_project_cancel"},I()("Cancel")),a.a.createElement("button",{disabled:this.state.deletionInProgress,className:"primary submission-button",onClick:this.handleSubmissionDelete},this.state.deletionInProgress?I()("Loading..."):I()("Edit my submission")))):null},SubmissionDeleteModal}(a.a.Component);C.contextTypes={executeAction:u.a.func};var w=C,P=function(e){function SubmissionEditButton(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showModal:!1},t.openModal=function(){t.setState({showModal:!0})},t.closeModal=function(){t.setState({showModal:!1})},t}i()(SubmissionEditButton,e);var t=SubmissionEditButton.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props,n=t.hasLoaded,i=t.isSubmitted,r=t.computedItem;n&&i&&!e.isSubmitted&&(this.context.router.push(h.a.join(r.resourcePath,"submit")),this.closeModal())},t.render=function render(){var e=this.props,t=e.hasLoaded,n=e.canDelete,i=e.submissionId,r=e.computedItem,s=e.className,c=e.courseId,u=e.courseSlug,l=e.buttonMessage;if(!t)return null;return(a.a.createElement("div",null,a.a.createElement("div",{className:o()("rc-SubmissionEditButton",s)},a.a.createElement(g.a,{className:"button secondary",disabled:!n,onClick:this.openModal,trackingName:"edit_project"},l)),this.state.showModal&&a.a.createElement(w,{showModal:!0,computedItem:r,onModalClose:this.closeModal,submissionId:i,courseId:c,courseSlug:u})))},SubmissionEditButton}(a.a.Component);P.contextTypes={router:u.a.object};var E=e.a=Object(l.compose)(Object(p.a)(["PeerPermissionsAndProgressesStore","CourseStore"],(function(e){var t=e.PeerPermissionsAndProgressesStore,n=e.CourseStore,i,r,a,s;return{hasLoaded:"loaded"===t.getState().loadState,canDelete:m()(t.getState().capabilities).contains("deleteSubmission"),isSubmitted:t.getState().isSubmitted,courseId:n.getCourseId(),courseSlug:n.getCourseSlug()}})))(P)},j03E:function(module,exports,e){},kljU:function(module,exports,e){e("ibVR")},lrid:function(module,exports,e){e("GVYJ")},mz92:function(module,exports,e){},o5Sl:function(module,e,t){"use strict";var n=t("J4zp"),i=t.n(n),r=t("q1tI"),a=t.n(r),s=t("MnCE"),o=t("8cuT"),c=t("BVC1"),u=t("vXr1"),l=t("gNwb"),d=t("KBPx"),m=t("lSNA"),p=t.n(m),h=t("AeFk"),f=t("sQ/U"),g=t("7NTc"),b=t("8Hdl"),v=t("ZJgU"),S=t("8xbv"),I=t("pVnL"),y=t.n(I),C=t("VbXa"),w=t.n(C),P=t("17x9"),E=t.n(P),A=t("PStO"),R=function withFluxibleContextAsProps(){return function(e){var t;return(t=function(t){function Wrapper(){return t.apply(this,arguments)||this}var n;return w()(Wrapper,t),Wrapper.prototype.render=function render(){return a.a.createElement(e,y()({},this.props,this.context))},Wrapper}(a.a.Component)).displayName="withFluxibleContextAsProps(".concat(e.displayName||e.name||"Component",")"),t.contextTypes={executeAction:E.a.func,executeMutation:E.a.func,getStore:E.a.func},t}},utils_withFluxibleContextAsProps=function(){return function(e){return Object(s.compose)(A.a.createContainer((function(){return{}})),R())(e)}},T=t("Zr0k"),O=t("yhVA"),N=t.n(O),j,k={primaryButton:function primaryButton(e){return Object(h.c)(p()({},e.breakpoints.down("xs"),{width:"100%",maxWidth:"none"}))},buttonText:Object(h.c)({height:"24px"}),secondaryButton:function secondaryButton(e){return Object(h.c)(p()({margin:e.spacing(0,24,0)},e.breakpoints.down("xs"),{width:"100%",maxWidth:"none",margin:e.spacing(24,0,0)}))}},x=function StartNewAttemptModal(e){var t=e.handleCancel,n=e.executeAction,a=e.computedItem.id,s=e.courseId,o=e.courseSlug,c=g.a.HeadingGroup,u=g.a.Content,l=g.a.Actions,d=Object(r.useState)(!1),m=i()(d,2),p=m[0],I=m[1],y=function handleStartNewAttempt(){var e=f.a.get().id;I(!0),n(T.e,{itemId:a,userId:e,courseId:s,courseSlug:o})};return Object(h.d)(g.a,{"aria-describedby":"dialog-content",open:!0,onClose:t},Object(h.d)(c,null,N()("Ready to start a new attempt?")),Object(h.d)(u,{id:"dialog-content"},Object(h.d)(b.a,{variant:"body1",component:"p"},N()("Your new attempt will clear your previous submission and peer review feedback. If you cancel and don't attempt again, what you've submitted will count towards your final grade."))),Object(h.d)(l,null,Object(h.d)(v.a,{css:k.primaryButton,size:"medium",variant:"primary",onClick:y,"aria-label":N()("Continue"),"data-test":"continue"},Object(h.d)("span",{css:k.buttonText,"aria-hidden":!0},p?j||(j=Object(h.d)(S.a,null)):N()("Continue"))),Object(h.d)(v.a,{css:k.secondaryButton,size:"medium",variant:"secondary",onClick:t,"data-test":"cancel"},N()("Cancel"))))},D=Object(s.compose)(utils_withFluxibleContextAsProps())(x),M=function StartNewAttemptButton(e){var t=e.hasLoaded,n=e.canDelete,s=e.computedItem,o=e.courseId,m=e.courseSlug,p=e.canStartNewAttempt,h=e.startAttemptState,f=e.buttonSize,g=void 0===f?"small":f,b=Object(u.b)(),v=Object(r.useState)(!1),S=i()(v,2),I=S[0],y=S[1],C=Object(d.a)(h),w=function openModal(){y(!0)},P=Object(r.useCallback)((function(){y(!1)}),[]);if(Object(r.useEffect)((function(){t&&"saving"===C&&"ready"===h&&(b.push(c.a.join(s.resourcePath,"submit")),P())}),[t,s.resourcePath,h,C,b,P]),!t)return null;return(a.a.createElement(r.Fragment,null,a.a.createElement(l.b,{variant:"secondary",disabled:!n||!p,onClick:w,trackingName:"reattempt_project_submission",size:g},N()("Start new attempt")),I&&a.a.createElement(D,{computedItem:s,courseId:o,courseSlug:m,handleCancel:P})))},V=e.a=Object(s.compose)(Object(o.a)(["PeerPermissionsAndProgressesStore","CourseStore","PeerSubmissionAppStateStore"],(function(e){var t,n,i,r,a,s=e.PeerPermissionsAndProgressesStore,o=e.CourseStore,c=e.PeerSubmissionAppStateStore,u="loaded"===s.getState().loadState,l=!(null!==(t=s.getState().submissionProgress)&&void 0!==t&&t.latestAttemptSummary),d=null===(n=s.getState().submissionProgress)||void 0===n?void 0:null===(i=n.latestAttemptSummary)||void 0===i?void 0:i.remainingAttempts;return{hasLoaded:u,canDelete:((null===(r=s.getState())||void 0===r?void 0:r.capabilities)||[]).includes("deleteSubmission"),courseId:o.getCourseId(),courseSlug:o.getCourseSlug(),canStartNewAttempt:l||!!d&&d>0,startAttemptState:null===(a=c.getState())||void 0===a?void 0:a.saveState}})))(M)},qL1m:function(module,exports,e){},qPyB:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t.n(r),s=t("eJMc"),o=t.n(s),c=t("DnuM"),u=t("BVC1"),l=t("sQ/U"),d=t("hbUA"),m=t("yhVA"),p=t.n(m),h=Object(c.a)("/api/onDemandPeerSubmissions.v1",{type:"rest"}),f=function(e){function PeerItemShareableLink(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showLink:!1},t}i()(PeerItemShareableLink,e);var t=PeerItemShareableLink.prototype;return t.componentDidMount=function componentDidMount(){var e=this,t=this.props.computedItem;h.post("?action=disableUrlSharing&userId=".concat(l.a.get().id,"&courseId=").concat(t.courseId),{data:{}}).then((function(t){!1===t&&e.setState({showLink:!0})}))},t.render=function render(){var e=this.props,t=e.computedItem,n=e.submissionId,i=this.state.showLink;if(Object(d.q)(t)||!i)return null;var r=u.a.join([t.resourcePath,"review",n]);return(a.a.createElement(o.a,{to:r,className:"rc-PeerItemShareableLink"},p()("Shareable Link")))},PeerItemShareableLink}(a.a.Component);e.a=f},rC9M:function(module,exports,e){var t,n,i,r;i=window,r=function(e,t,n){var i=function template(n){var i=[],r,a=n||{};return function(t){i.push('<div class="hide confirm-navigation modal"><div class="modal-header"><h3>'+e.escape(null==(r=t("Confirm Navigation"))?"":r)+'</h3></div><div class="modal-body"><div class="confirm-navigation-message"></div><div>'+e.escape(null==(r=t("Are you sure you want to leave this page?"))?"":r)+'</div></div><div class="modal-footer"><button data-modal-close="data-modal-close" class="passive confirm-navigation-stay">'+e.escape(null==(r=t("Stay on this Page"))?"":r)+'</button>&nbsp;&nbsp;<button data-modal-close="data-modal-close" data-modal-action="leave" class="primary confirm-navigation-leave">'+e.escape(null==(r=t("Leave this Page"))?"":r)+"</button></div></div>")}.call(this,"_t"in a?a._t:void 0!==t?t:void 0),i.join("")};return function(e){return e&&"_t"in e&&(t=e._t.merge(t)),i(e)}},t=[e("xgPa"),e("GKzL")],void 0===(n=function(e,t){var n;return r(e,t,n)}.apply(exports,t))||(module.exports=n)},rn8S:function(module,exports,e){e("QXwm")},rpqI:function(module,exports,e){},sldo:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("VkAN"),a=t.n(r),s=t("AeFk"),o=t("q1tI"),c=t.n(o),u=t("ZJgU"),l=t("7NTc"),d=t("8Hdl"),m=t("SJ7i"),p=t("uZaC"),h=t("gNwb"),f=t("u5mk"),g=t("HXet"),b=t.n(g),v,S,I,y,C,w,P=Object(h.d)({type:"BUTTON"})(u.a),E={signature:function signature(e){return Object(s.c)(v||(v=a()(["\n    background-color: ",";\n    padding: ",";\n    margin-bottom: ",";\n  "])),e.palette.gray[100],e.spacing(16),e.spacing(16))}},A=function(e){function HonorCodeModalV2(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={signature:""},t.handleSignatureChange=function(e){var n=e.target.value;t.setState((function(){return{signature:n}}))},t}var t;return i()(HonorCodeModalV2,e),HonorCodeModalV2.prototype.render=function render(){var e=this.props,t=e.onAccept,n=e.onClose,i=e.replaceCustomContent,r=e.trackingData,o=e.theme,c=l.a.HeadingGroup,m=l.a.Content,h=l.a.Actions,f=this.state.signature,g=!!f&&f.length>0,v=b()("Coursera Honor Code");return Object(s.d)(l.a,{"aria-describedby":v,open:!0,variant:"transactional"},Object(s.d)(c,null,v),Object(s.d)(m,{id:"dialog-content"},Object(s.d)(d.a,{variant:"body1"},b()("To protect the integrity of your work and that of fellow learners, the Coursera Honor Code requires you to:")),Object(s.d)("ul",{css:Object(s.c)(S||(S=a()(["\n              padding-left: ",";\n            "])),o.spacing(24))},Object(s.d)("li",null,Object(s.d)(d.a,{variant:"body1"},b()("Submit original work that has not been copied or reproduced from another source"))),Object(s.d)("li",null,Object(s.d)(d.a,{variant:"body1"},b()("Keep assignments private (do not duplicate your answers to share with other learners on or outside of Coursera)"))),Object(s.d)("li",null,Object(s.d)(d.a,{variant:"body1"},b()("Flag assignments you suspect to be plagiarized")))),Object(s.d)(d.a,{variant:"body1",css:Object(s.c)(I||(I=a()(["\n              margin-bottom: ",";\n            "])),o.spacing(16))},Object(s.d)(p.a,{articleId:"209818863",linkText:b()("Learn more about the Coursera Honor Code")})),Object(s.d)("div",{css:E.signature},Object(s.d)(d.a,{variant:"body1"},i(b()("I understand that submitting another’s work as my own can result in zero credit for this assignment. Repeated violations of the Coursera Honor Code may result in removal from this {course} or deactivation of my Coursera account."))),Object(s.d)(d.a,{variant:"body1",css:Object(s.c)(y||(y=a()(["\n                margin: ",";\n              "])),o.spacing(16,0,8,0))},b()("Signature")),Object(s.d)("div",null,Object(s.d)("input",{css:Object(s.c)(C||(C=a()(["\n                  height: ",";\n                "])),o.spacing(32)),"aria-label":b()("Signature"),type:"text",name:"signature",onChange:this.handleSignatureChange})))),Object(s.d)(h,null,Object(s.d)(u.a,{variant:"primary",size:"medium","data-test":"accept-button",onClick:t,disabled:!g},b()("Yes, I understand")),Object(s.d)(P,{trackingName:"declined_honor_code",trackingData:r,"data-test":"decline-button",variant:"secondary",size:"medium",css:Object(s.c)(w||(w=a()(["\n              margin: ",";\n            "])),o.spacing(0,8,0,8)),onClick:n},b()("No, I decline"))))},HonorCodeModalV2}(c.a.Component);e.a=Object(f.a)(Object(m.a)(A))},uFJi:function(module,exports,e){e("E5sG")},xgPa:function(module,exports,e){var t;!function(n){var exports={};function nulls(e){return null!=e&&""!==e}function joinClasses(e){return Array.isArray(e)?e.map(joinClasses).filter(nulls).join(" "):e}Array.isArray||(Array.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),exports.merge=function merge(e,t){if(1===arguments.length){for(var n=e[0],i=1;i<e.length;i++)n=merge(n,e[i]);return n}var r=e.class,a=t.class;for(var s in(r||a)&&(r=r||[],a=a||[],Array.isArray(r)||(r=[r]),Array.isArray(a)||(a=[a]),e.class=r.concat(a).filter(nulls)),t)"class"!=s&&(e[s]=t[s]);return e},exports.joinClasses=joinClasses,exports.cls=function cls(e,t){for(var n=[],i=0;i<e.length;i++)t&&t[i]?n.push(exports.escape(joinClasses([e[i]]))):n.push(joinClasses(e[i]));var r=joinClasses(n);return r.length?' class="'+r+'"':""},exports.attr=function attr(e,t,n,i){return"boolean"==typeof t||null==t?t?" "+(i?e:e+'="'+e+'"'):"":0===e.indexOf("data")&&"string"!=typeof t?" "+e+"='"+JSON.stringify(t).replace(/'/g,"&apos;")+"'":n?" "+e+'="'+exports.escape(t)+'"':" "+e+'="'+t+'"'},exports.attrs=function attrs(e,t){var n=[],i=Object.keys(e);if(i.length)for(var r=0;r<i.length;++r){var a=i[r],s=e[a];"class"==a?(s=joinClasses(s))&&n.push(" "+a+'="'+s+'"'):n.push(exports.attr(a,s,!1,t))}return n.join("")},exports.escape=function escape(e){var t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return t===""+e?e:t},exports.rethrow=function rethrow(t,n,i,r){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&n||r))throw t.message+=" on line "+i,t;try{r=r||e("mw/K").readFileSync(n,"utf8")}catch(e){rethrow(t,null,i)}var a=3,s=r.split("\n"),o=Math.max(i-a,0),c=Math.min(s.length,i+a);throw a=s.slice(o,c).map((function(e,t){var n=t+o+1;return(n==i?"  > ":"    ")+n+"| "+e})).join("\n"),t.path=n,t.message=(n||"Jade")+":"+i+"\n"+a+"\n\n"+t.message,t},void 0===(t=function(){return exports}.call(exports,e,exports,module))||(module.exports=t)}(this)},xmcF:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t.n(r),s=t("17x9"),o=t.n(s),c=t("jGbM"),u=t("sQ/U"),l=t("nZ8s"),d=t("fw5G"),m=t.n(d),p=t("DnuM"),h=Object(p.a)("/api/aliceMessages.v1",{type:"rest"}),f=function getMessages(e){var t=e.type,n=e.courseBranchId,i=e.contextType,r;return n?r=(new m.a).addQueryParam("q","byBranchAndEventType").addQueryParam("eventType",t).addQueryParam("branchId",n):i&&(r=(new m.a).addQueryParam("q","byContextAndEventType").addQueryParam("eventType",t).addQueryParam("contextType",i)),h.get(r.toString()).then((function(t){var n;return t.elements.map((function(t){return new l.a(t.id,t.definition&&t.definition.itemId,t.definition&&t.definition.moduleId,t.definition&&t.definition.weekNumber,t.definition&&t.definition.title,t.definition&&t.definition.message,t.definition&&t.definition.dataSourceDescription,t.definition&&t.definition.action,t.definition&&t.definition.epicToShowNamespace,t.definition&&t.definition.epicToShowParameter,e.type)}))}))},g=function publishAliceNotification(e,t){var n=t.event,i=n.type,r,a;return e.getStore("AliceStore").getMessagesForEventType(i)||(e.dispatch("REQUESTING_ALICE_MESSAGES",{eventType:i}),f(n).then((function(t){e.dispatch("CACHE_ALICE_MESSAGES",{eventType:i,messages:t})}))),e.dispatch("PUBLISH_ALICE_NOTIFICATION",{event:n})},b=function clearAliceNotification(e){e.dispatch("CLEAR_ALICE_NOTIFICATION")},v=function dismissAliceNotification(e,t){var n=t.id;e.dispatch("DISMISS_ALICE_NOTIFICATION",{id:n})},S=t("KMW/"),I=t("Oejf"),y=t.n(I),C,w="alice";null===(C=S.a.addDefaults)||void 0===C||C.call(S.a,[y.a]);var P,E={get:function get(e,t,n){return S.a.get("alice",e,t,n)},preview:function preview(e,t,n){return S.a.preview("alice",e,t,n)}};function withAliceNotification(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return{}};return function(n){var r=n.displayName||n.name,s=function(r){function WithAliceNotificationWrapper(n,i){var a;(a=r.call(this,n,i)||this).publish=function(){var t=e(a.props),n=a.context.executeAction;t?n(g,{event:t}):n(b)};var s=E.get("aliceEnabled",t(n))||u.a.isSuperuser();return a.state={enabled:s},a}i()(WithAliceNotificationWrapper,r);var s=WithAliceNotificationWrapper.prototype;return s.componentDidMount=function componentDidMount(){var e;this.state.enabled&&this.publish()},s.componentDidUpdate=function componentDidUpdate(){var e;this.state.enabled&&this.publish()},s.componentWillUnmount=function componentWillUnmount(){var e=this.state.enabled,t=this.context.executeAction;e&&t(b)},s.render=function render(){return a.a.createElement(n,Object.assign({},this.props))},WithAliceNotificationWrapper}(a.a.Component);return s.displayName=r+"WithAliceNotificationConnector",s.contextTypes={executeAction:o.a.func},Object(c.a)(s,n),s}}t.d(e,"a",(function(){return withAliceNotification}))},y5nr:function(module,exports,e){e("qL1m")},yMmU:function(module,e,t){"use strict";var n=t("q1tI"),i=t.n(n),r=t("eJW0"),a=t.n(r),s=t("1aFt"),o=t.n(s),c=function SubmissionViewCell(e){var t=e.children,n=e.ariaLabel;return t?i.a.createElement("div",{className:"rc-SubmissionViewCell",role:"region","aria-label":n&&a()("Review prompt: #{ariaLabel}",{ariaLabel:n})},t):null};e.a=c}}]);
//# sourceMappingURL=en.34.cc99e7fda1e75eaba6b0.js.map